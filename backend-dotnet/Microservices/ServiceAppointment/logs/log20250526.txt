2025-05-26 03:11:55.890 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 03:11:55.963 +00:00 [INF] CORS policy execution successful.
2025-05-26 03:11:55.966 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 76.4377ms
2025-05-26 03:11:56.040 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 03:11:56.171 +00:00 [INF] CORS policy execution successful.
2025-05-26 03:11:56.247 +00:00 [ERR] Unhandled exception occurred
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.ArgumentNullException.Throw(String paramName)
   at System.Text.Encoding.GetBytes(String s)
   at Program.<>c__DisplayClass0_0.<<Main>$>b__2(JwtBearerOptions options) in /app/Program.cs:line 60
   at Microsoft.Extensions.Options.ConfigureNamedOptions`1.Configure(String name, TOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.OptionsMonitor`1.<>c.<Get>b__10_0(String name, IOptionsFactory`1 factory)
   at Microsoft.Extensions.Options.OptionsCache`1.<>c__DisplayClass3_1`1.<GetOrAdd>b__2()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
--- End of stack trace from previous location ---
   at System.Lazy`1.CreateValue()
   at Microsoft.Extensions.Options.OptionsCache`1.GetOrAdd[TArg](String name, Func`3 createOptions, TArg factoryArgument)
   at Microsoft.Extensions.Options.OptionsMonitor`1.Get(String name)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.InitializeAsync(AuthenticationScheme scheme, HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at ServiceAppointment.API.Exceptions.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in /app/Exceptions/ExceptionMiddleware.cs:line 20
2025-05-26 03:11:56.261 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 500 null application/json; charset=utf-8 220.5129ms
2025-05-26 03:14:19.139 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 03:14:19.142 +00:00 [INF] CORS policy execution successful.
2025-05-26 03:14:19.145 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 5.7702ms
2025-05-26 03:14:19.155 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 03:14:19.167 +00:00 [INF] CORS policy execution successful.
2025-05-26 03:14:19.181 +00:00 [ERR] Unhandled exception occurred
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.ArgumentNullException.Throw(String paramName)
   at System.Text.Encoding.GetBytes(String s)
   at Program.<>c__DisplayClass0_0.<<Main>$>b__2(JwtBearerOptions options) in /app/Program.cs:line 60
   at Microsoft.Extensions.Options.ConfigureNamedOptions`1.Configure(String name, TOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.OptionsMonitor`1.<>c.<Get>b__10_0(String name, IOptionsFactory`1 factory)
   at Microsoft.Extensions.Options.OptionsCache`1.<>c__DisplayClass3_1`1.<GetOrAdd>b__2()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
--- End of stack trace from previous location ---
   at System.Lazy`1.CreateValue()
   at Microsoft.Extensions.Options.OptionsCache`1.GetOrAdd[TArg](String name, Func`3 createOptions, TArg factoryArgument)
   at Microsoft.Extensions.Options.OptionsMonitor`1.Get(String name)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.InitializeAsync(AuthenticationScheme scheme, HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at ServiceAppointment.API.Exceptions.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in /app/Exceptions/ExceptionMiddleware.cs:line 20
2025-05-26 03:14:19.186 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 500 null application/json; charset=utf-8 30.338ms
2025-05-26 03:25:52.913 +00:00 [INF] Application is shutting down...
2025-05-26 03:28:27.580 +00:00 [INF] Executed DbCommand (100ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 03:28:28.577 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-05-26 03:28:28.618 +00:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-26 03:28:28.622 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-05-26 03:28:28.634 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 03:28:28.659 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-05-26 03:28:28.752 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
2025-05-26 03:28:28.754 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-26 03:28:28.800 +00:00 [INF] Creating key {8f3e704f-1646-44a5-9654-157d447323b2} with creation date 2025-05-26 03:28:28Z, activation date 2025-05-26 03:28:28Z, and expiration date 2025-08-24 03:28:28Z.
2025-05-26 03:28:28.819 +00:00 [WRN] No XML encryptor configured. Key {8f3e704f-1646-44a5-9654-157d447323b2} may be persisted to storage in unencrypted form.
2025-05-26 03:28:28.831 +00:00 [INF] Writing data to file '/root/.aspnet/DataProtection-Keys/key-8f3e704f-1646-44a5-9654-157d447323b2.xml'.
2025-05-26 03:28:28.950 +00:00 [INF] Now listening on: http://[::]:8080
2025-05-26 03:28:28.960 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-26 03:28:28.964 +00:00 [INF] Hosting environment: Development
2025-05-26 03:28:28.965 +00:00 [INF] Content root path: /app
2025-05-26 03:29:58.965 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 03:29:59.058 +00:00 [WRN] Failed to determine the https port for redirect.
2025-05-26 03:29:59.064 +00:00 [INF] CORS policy execution successful.
2025-05-26 03:29:59.081 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 118.6113ms
2025-05-26 03:29:59.093 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 03:29:59.118 +00:00 [INF] CORS policy execution successful.
2025-05-26 03:29:59.162 +00:00 [ERR] Unhandled exception occurred
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.ArgumentNullException.Throw(String paramName)
   at System.Text.Encoding.GetBytes(String s)
   at Program.<>c__DisplayClass0_0.<<Main>$>b__2(JwtBearerOptions options) in /app/Program.cs:line 61
   at Microsoft.Extensions.Options.ConfigureNamedOptions`1.Configure(String name, TOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.OptionsMonitor`1.<>c.<Get>b__10_0(String name, IOptionsFactory`1 factory)
   at Microsoft.Extensions.Options.OptionsCache`1.<>c__DisplayClass3_1`1.<GetOrAdd>b__2()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
   at System.Lazy`1.ExecutionAndPublication(LazyHelper executionAndPublication, Boolean useDefaultConstructor)
   at System.Lazy`1.CreateValue()
   at Microsoft.Extensions.Options.OptionsCache`1.GetOrAdd[TArg](String name, Func`3 createOptions, TArg factoryArgument)
   at Microsoft.Extensions.Options.OptionsMonitor`1.Get(String name)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.InitializeAsync(AuthenticationScheme scheme, HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at ServiceAppointment.API.Exceptions.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in /app/Exceptions/ExceptionMiddleware.cs:line 20
2025-05-26 03:29:59.351 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 500 null application/json; charset=utf-8 258.2971ms
2025-05-26 03:35:53.438 +00:00 [INF] Application is shutting down...
2025-05-26 03:36:55.446 +00:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 03:36:56.112 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-05-26 03:36:56.139 +00:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-26 03:36:56.144 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-05-26 03:36:56.147 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 03:36:56.163 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-05-26 03:36:56.210 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
2025-05-26 03:36:56.211 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-26 03:36:56.352 +00:00 [INF] Now listening on: http://[::]:8080
2025-05-26 03:36:56.359 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-26 03:36:56.361 +00:00 [INF] Hosting environment: Development
2025-05-26 03:36:56.362 +00:00 [INF] Content root path: /app
2025-05-26 03:39:25.606 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 03:39:25.701 +00:00 [WRN] Failed to determine the https port for redirect.
2025-05-26 03:39:25.708 +00:00 [INF] CORS policy execution successful.
2025-05-26 03:39:25.726 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 122.0769ms
2025-05-26 03:39:25.742 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 03:39:25.778 +00:00 [INF] CORS policy execution successful.
2025-05-26 03:39:25.818 +00:00 [ERR] Unhandled exception occurred
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.ArgumentNullException.Throw(String paramName)
   at System.Text.Encoding.GetBytes(String s)
   at Program.<>c__DisplayClass0_0.<<Main>$>b__2(JwtBearerOptions options) in /app/Program.cs:line 61
   at Microsoft.Extensions.Options.ConfigureNamedOptions`1.Configure(String name, TOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.OptionsMonitor`1.<>c.<Get>b__10_0(String name, IOptionsFactory`1 factory)
   at Microsoft.Extensions.Options.OptionsCache`1.<>c__DisplayClass3_1`1.<GetOrAdd>b__2()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
   at System.Lazy`1.ExecutionAndPublication(LazyHelper executionAndPublication, Boolean useDefaultConstructor)
   at System.Lazy`1.CreateValue()
   at Microsoft.Extensions.Options.OptionsCache`1.GetOrAdd[TArg](String name, Func`3 createOptions, TArg factoryArgument)
   at Microsoft.Extensions.Options.OptionsMonitor`1.Get(String name)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.InitializeAsync(AuthenticationScheme scheme, HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at ServiceAppointment.API.Exceptions.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in /app/Exceptions/ExceptionMiddleware.cs:line 20
2025-05-26 03:39:26.000 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 500 null application/json; charset=utf-8 258.1612ms
2025-05-26 03:43:25.905 +00:00 [INF] Application is shutting down...
2025-05-26 03:45:56.613 +00:00 [INF] Executed DbCommand (66ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 03:45:57.948 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-05-26 03:45:57.990 +00:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-26 03:45:58.004 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-05-26 03:45:58.008 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 03:45:58.039 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-05-26 03:45:58.120 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
2025-05-26 03:45:58.123 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-26 03:45:58.197 +00:00 [INF] Creating key {6f7f8b05-370f-40db-a147-31c21121c116} with creation date 2025-05-26 03:45:58Z, activation date 2025-05-26 03:45:58Z, and expiration date 2025-08-24 03:45:58Z.
2025-05-26 03:45:58.224 +00:00 [WRN] No XML encryptor configured. Key {6f7f8b05-370f-40db-a147-31c21121c116} may be persisted to storage in unencrypted form.
2025-05-26 03:45:58.241 +00:00 [INF] Writing data to file '/root/.aspnet/DataProtection-Keys/key-6f7f8b05-370f-40db-a147-31c21121c116.xml'.
2025-05-26 03:45:58.384 +00:00 [INF] Now listening on: http://[::]:8080
2025-05-26 03:45:58.391 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-26 03:45:58.394 +00:00 [INF] Hosting environment: Development
2025-05-26 03:45:58.395 +00:00 [INF] Content root path: /app
2025-05-26 03:47:18.059 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 03:47:18.133 +00:00 [WRN] Failed to determine the https port for redirect.
2025-05-26 03:47:18.137 +00:00 [INF] CORS policy execution successful.
2025-05-26 03:47:18.155 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 98.4796ms
2025-05-26 03:47:18.172 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 03:47:18.195 +00:00 [INF] CORS policy execution successful.
2025-05-26 03:47:18.376 +00:00 [INF] Executing endpoint 'AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 03:47:18.446 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyAppointments() on controller AppointmentsController (ServiceAppointment).
2025-05-26 03:47:19.520 +00:00 [INF] Executed DbCommand (39ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 03:47:19.568 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 03:47:19.724 +00:00 [INF] Executed action AppointmentsController.GetMyAppointments (ServiceAppointment) in 1270.0995ms
2025-05-26 03:47:19.729 +00:00 [INF] Executed endpoint 'AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 03:47:19.745 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 1572.9673ms
2025-05-26 03:54:17.064 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 03:54:17.075 +00:00 [INF] CORS policy execution successful.
2025-05-26 03:54:17.079 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 14.0996ms
2025-05-26 03:54:17.092 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 03:54:17.096 +00:00 [INF] CORS policy execution successful.
2025-05-26 03:54:17.113 +00:00 [INF] Executing endpoint 'AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 03:54:17.116 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyAppointments() on controller AppointmentsController (ServiceAppointment).
2025-05-26 03:54:17.403 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 03:54:17.409 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 03:54:17.413 +00:00 [INF] Executed action AppointmentsController.GetMyAppointments (ServiceAppointment) in 295.3763ms
2025-05-26 03:54:17.422 +00:00 [INF] Executed endpoint 'AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 03:54:17.430 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 337.6249ms
2025-05-26 04:19:33.781 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 04:19:33.788 +00:00 [INF] CORS policy execution successful.
2025-05-26 04:19:33.795 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 13.2376ms
2025-05-26 04:19:33.811 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 04:19:33.814 +00:00 [INF] CORS policy execution successful.
2025-05-26 04:19:33.830 +00:00 [INF] Executing endpoint 'AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 04:19:33.832 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyAppointments() on controller AppointmentsController (ServiceAppointment).
2025-05-26 04:19:33.874 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 04:19:33.877 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 04:19:33.879 +00:00 [INF] Executed action AppointmentsController.GetMyAppointments (ServiceAppointment) in 45.0135ms
2025-05-26 04:19:33.883 +00:00 [INF] Executed endpoint 'AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 04:19:33.886 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 74.4872ms
2025-05-26 04:20:09.480 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 04:20:09.487 +00:00 [INF] CORS policy execution successful.
2025-05-26 04:20:09.493 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 12.0167ms
2025-05-26 04:20:09.499 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5001/api/appointments - application/json 86
2025-05-26 04:20:09.505 +00:00 [INF] CORS policy execution successful.
2025-05-26 04:20:09.509 +00:00 [INF] Executing endpoint 'AppointmentsController.Create (ServiceAppointment)'
2025-05-26 04:20:09.537 +00:00 [INF] Route matched with {action = "Create", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(ServiceAppointment.Models.ServiceAppointment.Models.Appointment) on controller AppointmentsController (ServiceAppointment).
2025-05-26 04:20:09.700 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-26 04:20:09.758 +00:00 [INF] Executed action AppointmentsController.Create (ServiceAppointment) in 192.0896ms
2025-05-26 04:20:09.759 +00:00 [INF] Executed endpoint 'AppointmentsController.Create (ServiceAppointment)'
2025-05-26 04:20:09.762 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5001/api/appointments - 400 null application/problem+json; charset=utf-8 262.8976ms
2025-05-26 04:24:26.269 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 04:24:26.278 +00:00 [INF] CORS policy execution successful.
2025-05-26 04:24:26.280 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 11.2867ms
2025-05-26 04:24:26.289 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 04:24:26.292 +00:00 [INF] CORS policy execution successful.
2025-05-26 04:24:26.298 +00:00 [INF] Executing endpoint 'AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 04:24:26.299 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyAppointments() on controller AppointmentsController (ServiceAppointment).
2025-05-26 04:24:26.311 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 04:24:26.313 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 04:24:26.315 +00:00 [INF] Executed action AppointmentsController.GetMyAppointments (ServiceAppointment) in 14.3636ms
2025-05-26 04:24:26.319 +00:00 [INF] Executed endpoint 'AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 04:24:26.320 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 31.3508ms
2025-05-26 04:24:50.191 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 04:24:50.194 +00:00 [INF] CORS policy execution successful.
2025-05-26 04:24:50.198 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 6.2336ms
2025-05-26 04:24:50.207 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5001/api/appointments - application/json 107
2025-05-26 04:24:50.210 +00:00 [INF] CORS policy execution successful.
2025-05-26 04:24:50.217 +00:00 [INF] Executing endpoint 'AppointmentsController.Create (ServiceAppointment)'
2025-05-26 04:24:50.220 +00:00 [INF] Route matched with {action = "Create", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(ServiceAppointment.Models.ServiceAppointment.Models.Appointment) on controller AppointmentsController (ServiceAppointment).
2025-05-26 04:24:50.228 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-26 04:24:50.233 +00:00 [INF] Executed action AppointmentsController.Create (ServiceAppointment) in 10.404ms
2025-05-26 04:24:50.235 +00:00 [INF] Executed endpoint 'AppointmentsController.Create (ServiceAppointment)'
2025-05-26 04:24:50.239 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5001/api/appointments - 400 null application/problem+json; charset=utf-8 32.3799ms
2025-05-26 04:25:42.258 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 04:25:42.260 +00:00 [INF] CORS policy execution successful.
2025-05-26 04:25:42.262 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 4.2965ms
2025-05-26 04:25:42.271 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 04:25:42.273 +00:00 [INF] CORS policy execution successful.
2025-05-26 04:25:42.277 +00:00 [INF] Executing endpoint 'AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 04:25:42.280 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyAppointments() on controller AppointmentsController (ServiceAppointment).
2025-05-26 04:25:42.308 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 04:25:42.311 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 04:25:42.313 +00:00 [INF] Executed action AppointmentsController.GetMyAppointments (ServiceAppointment) in 31.0036ms
2025-05-26 04:25:42.315 +00:00 [INF] Executed endpoint 'AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 04:25:42.322 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 50.8892ms
2025-05-26 04:25:58.426 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 04:25:58.429 +00:00 [INF] CORS policy execution successful.
2025-05-26 04:25:58.431 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 4.2842ms
2025-05-26 04:25:58.436 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5001/api/appointments - application/json 107
2025-05-26 04:25:58.439 +00:00 [INF] CORS policy execution successful.
2025-05-26 04:25:58.442 +00:00 [INF] Executing endpoint 'AppointmentsController.Create (ServiceAppointment)'
2025-05-26 04:25:58.447 +00:00 [INF] Route matched with {action = "Create", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(ServiceAppointment.Models.ServiceAppointment.Models.Appointment) on controller AppointmentsController (ServiceAppointment).
2025-05-26 04:25:58.456 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-26 04:25:58.458 +00:00 [INF] Executed action AppointmentsController.Create (ServiceAppointment) in 5.7935ms
2025-05-26 04:25:58.459 +00:00 [INF] Executed endpoint 'AppointmentsController.Create (ServiceAppointment)'
2025-05-26 04:25:58.462 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5001/api/appointments - 400 null application/problem+json; charset=utf-8 25.7391ms
2025-05-26 04:30:48.522 +00:00 [INF] Application is shutting down...
2025-05-26 04:34:14.017 +00:00 [INF] Executed DbCommand (114ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 04:34:15.451 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-05-26 04:34:15.504 +00:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-26 04:34:15.529 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-05-26 04:34:15.544 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 04:34:15.571 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-05-26 04:34:15.644 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
2025-05-26 04:34:15.646 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-26 04:34:15.701 +00:00 [INF] Creating key {f66711c2-4538-4eaa-b950-b4c796fff19c} with creation date 2025-05-26 04:34:15Z, activation date 2025-05-26 04:34:15Z, and expiration date 2025-08-24 04:34:15Z.
2025-05-26 04:34:15.724 +00:00 [WRN] No XML encryptor configured. Key {f66711c2-4538-4eaa-b950-b4c796fff19c} may be persisted to storage in unencrypted form.
2025-05-26 04:34:15.734 +00:00 [INF] Writing data to file '/root/.aspnet/DataProtection-Keys/key-f66711c2-4538-4eaa-b950-b4c796fff19c.xml'.
2025-05-26 04:34:15.913 +00:00 [INF] Now listening on: http://[::]:8080
2025-05-26 04:34:15.921 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-26 04:34:15.924 +00:00 [INF] Hosting environment: Development
2025-05-26 04:34:15.926 +00:00 [INF] Content root path: /app
2025-05-26 04:36:33.301 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 04:36:33.377 +00:00 [WRN] Failed to determine the https port for redirect.
2025-05-26 04:36:33.381 +00:00 [INF] CORS policy execution successful.
2025-05-26 04:36:33.394 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 97.7929ms
2025-05-26 04:36:33.405 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 04:36:33.420 +00:00 [INF] CORS policy execution successful.
2025-05-26 04:36:33.583 +00:00 [INF] Executing endpoint 'AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 04:36:33.665 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyAppointments() on controller AppointmentsController (ServiceAppointment).
2025-05-26 04:36:35.422 +00:00 [INF] Executed DbCommand (94ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 04:36:35.504 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 04:36:35.741 +00:00 [INF] Executed action AppointmentsController.GetMyAppointments (ServiceAppointment) in 2056.8086ms
2025-05-26 04:36:35.745 +00:00 [INF] Executed endpoint 'AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 04:36:35.771 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 2366.1228ms
2025-05-26 04:36:45.793 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 04:36:45.800 +00:00 [INF] CORS policy execution successful.
2025-05-26 04:36:45.806 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 13.4345ms
2025-05-26 04:36:45.813 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5001/api/appointments - application/json 107
2025-05-26 04:36:45.824 +00:00 [INF] CORS policy execution successful.
2025-05-26 04:36:45.841 +00:00 [INF] Executing endpoint 'AppointmentsController.Create (ServiceAppointment)'
2025-05-26 04:36:45.868 +00:00 [INF] Route matched with {action = "Create", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(ServiceAppointment.Models.Appointment) on controller AppointmentsController (ServiceAppointment).
2025-05-26 04:36:45.960 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-26 04:36:46.021 +00:00 [INF] Executed action AppointmentsController.Create (ServiceAppointment) in 151.4258ms
2025-05-26 04:36:46.022 +00:00 [INF] Executed endpoint 'AppointmentsController.Create (ServiceAppointment)'
2025-05-26 04:36:46.024 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5001/api/appointments - 400 null application/problem+json; charset=utf-8 211.6401ms
2025-05-26 04:41:55.862 +00:00 [INF] Application is shutting down...
2025-05-26 04:44:26.703 +00:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 04:44:28.052 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-05-26 04:44:28.091 +00:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-26 04:44:28.102 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-05-26 04:44:28.106 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 04:44:28.137 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-05-26 04:44:28.237 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
2025-05-26 04:44:28.241 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-26 04:44:28.303 +00:00 [INF] Creating key {261da9e8-b61f-4678-a29b-dae246de46ee} with creation date 2025-05-26 04:44:28Z, activation date 2025-05-26 04:44:28Z, and expiration date 2025-08-24 04:44:28Z.
2025-05-26 04:44:28.322 +00:00 [WRN] No XML encryptor configured. Key {261da9e8-b61f-4678-a29b-dae246de46ee} may be persisted to storage in unencrypted form.
2025-05-26 04:44:28.336 +00:00 [INF] Writing data to file '/root/.aspnet/DataProtection-Keys/key-261da9e8-b61f-4678-a29b-dae246de46ee.xml'.
2025-05-26 04:44:28.496 +00:00 [INF] Now listening on: http://[::]:8080
2025-05-26 04:44:28.506 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-26 04:44:28.508 +00:00 [INF] Hosting environment: Development
2025-05-26 04:44:28.510 +00:00 [INF] Content root path: /app
2025-05-26 04:44:57.098 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 04:44:57.210 +00:00 [WRN] Failed to determine the https port for redirect.
2025-05-26 04:44:57.214 +00:00 [INF] CORS policy execution successful.
2025-05-26 04:44:57.233 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 142.4704ms
2025-05-26 04:44:57.253 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 04:44:57.277 +00:00 [INF] CORS policy execution successful.
2025-05-26 04:44:57.517 +00:00 [INF] Executing endpoint 'AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 04:44:57.671 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyAppointments() on controller AppointmentsController (ServiceAppointment).
2025-05-26 04:44:59.166 +00:00 [INF] Executed DbCommand (47ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 04:44:59.213 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 04:44:59.403 +00:00 [INF] Executed action AppointmentsController.GetMyAppointments (ServiceAppointment) in 1693.5208ms
2025-05-26 04:44:59.406 +00:00 [INF] Executed endpoint 'AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 04:44:59.430 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 2176.7818ms
2025-05-26 04:45:14.019 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 04:45:14.024 +00:00 [INF] CORS policy execution successful.
2025-05-26 04:45:14.032 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 12.7767ms
2025-05-26 04:45:14.039 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5001/api/appointments - application/json 107
2025-05-26 04:45:14.048 +00:00 [INF] CORS policy execution successful.
2025-05-26 04:45:14.064 +00:00 [INF] Executing endpoint 'AppointmentsController.Create (ServiceAppointment)'
2025-05-26 04:45:14.114 +00:00 [INF] Route matched with {action = "Create", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(ServiceAppointment.Models.Appointment) on controller AppointmentsController (ServiceAppointment).
2025-05-26 04:45:14.269 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-26 04:45:14.343 +00:00 [INF] Executed action AppointmentsController.Create (ServiceAppointment) in 227.8739ms
2025-05-26 04:45:14.346 +00:00 [INF] Executed endpoint 'AppointmentsController.Create (ServiceAppointment)'
2025-05-26 04:45:14.349 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5001/api/appointments - 400 null application/problem+json; charset=utf-8 309.2951ms
2025-05-26 04:50:16.145 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 04:50:16.159 +00:00 [INF] CORS policy execution successful.
2025-05-26 04:50:16.165 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 19.6165ms
2025-05-26 04:50:16.199 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 04:50:16.206 +00:00 [INF] CORS policy execution successful.
2025-05-26 04:50:16.222 +00:00 [INF] Executing endpoint 'AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 04:50:16.225 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyAppointments() on controller AppointmentsController (ServiceAppointment).
2025-05-26 04:50:16.698 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 04:50:16.705 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 04:50:16.711 +00:00 [INF] Executed action AppointmentsController.GetMyAppointments (ServiceAppointment) in 480.9464ms
2025-05-26 04:50:16.714 +00:00 [INF] Executed endpoint 'AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 04:50:16.722 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 522.8414ms
2025-05-26 04:50:30.520 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 04:50:30.522 +00:00 [INF] CORS policy execution successful.
2025-05-26 04:50:30.529 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 9.6743ms
2025-05-26 04:50:30.537 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5001/api/appointments - application/json 115
2025-05-26 04:50:30.541 +00:00 [INF] CORS policy execution successful.
2025-05-26 04:50:30.545 +00:00 [INF] Executing endpoint 'AppointmentsController.Create (ServiceAppointment)'
2025-05-26 04:50:30.548 +00:00 [INF] Route matched with {action = "Create", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(ServiceAppointment.Models.Appointment) on controller AppointmentsController (ServiceAppointment).
2025-05-26 04:50:30.556 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-26 04:50:30.558 +00:00 [INF] Executed action AppointmentsController.Create (ServiceAppointment) in 8.0907ms
2025-05-26 04:50:30.567 +00:00 [INF] Executed endpoint 'AppointmentsController.Create (ServiceAppointment)'
2025-05-26 04:50:30.571 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5001/api/appointments - 400 null application/problem+json; charset=utf-8 33.5422ms
2025-05-26 04:50:55.342 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 04:50:55.344 +00:00 [INF] CORS policy execution successful.
2025-05-26 04:50:55.347 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 4.5922ms
2025-05-26 04:50:55.356 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5001/api/appointments - application/json 115
2025-05-26 04:50:55.358 +00:00 [INF] CORS policy execution successful.
2025-05-26 04:50:55.362 +00:00 [INF] Executing endpoint 'AppointmentsController.Create (ServiceAppointment)'
2025-05-26 04:50:55.363 +00:00 [INF] Route matched with {action = "Create", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(ServiceAppointment.Models.Appointment) on controller AppointmentsController (ServiceAppointment).
2025-05-26 04:50:55.367 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-26 04:50:55.369 +00:00 [INF] Executed action AppointmentsController.Create (ServiceAppointment) in 4.0918ms
2025-05-26 04:50:55.371 +00:00 [INF] Executed endpoint 'AppointmentsController.Create (ServiceAppointment)'
2025-05-26 04:50:55.374 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5001/api/appointments - 400 null application/problem+json; charset=utf-8 17.7001ms
2025-05-26 04:54:30.518 +00:00 [INF] Application is shutting down...
2025-05-26 04:56:30.402 +00:00 [INF] Executed DbCommand (70ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 04:56:31.399 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-05-26 04:56:31.424 +00:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-26 04:56:31.430 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-05-26 04:56:31.435 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 04:56:31.453 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-05-26 04:56:31.521 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
2025-05-26 04:56:31.523 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-26 04:56:31.571 +00:00 [INF] Creating key {2ccaa859-de0a-414d-8e3b-0ceba8756630} with creation date 2025-05-26 04:56:31Z, activation date 2025-05-26 04:56:31Z, and expiration date 2025-08-24 04:56:31Z.
2025-05-26 04:56:31.588 +00:00 [WRN] No XML encryptor configured. Key {2ccaa859-de0a-414d-8e3b-0ceba8756630} may be persisted to storage in unencrypted form.
2025-05-26 04:56:31.600 +00:00 [INF] Writing data to file '/root/.aspnet/DataProtection-Keys/key-2ccaa859-de0a-414d-8e3b-0ceba8756630.xml'.
2025-05-26 04:56:31.746 +00:00 [INF] Now listening on: http://[::]:8080
2025-05-26 04:56:31.759 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-26 04:56:31.762 +00:00 [INF] Hosting environment: Development
2025-05-26 04:56:31.766 +00:00 [INF] Content root path: /app
2025-05-26 04:57:30.954 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 04:57:31.060 +00:00 [WRN] Failed to determine the https port for redirect.
2025-05-26 04:57:31.065 +00:00 [INF] CORS policy execution successful.
2025-05-26 04:57:31.084 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 136.9028ms
2025-05-26 04:57:31.094 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 04:57:31.118 +00:00 [INF] CORS policy execution successful.
2025-05-26 04:57:31.289 +00:00 [INF] Executing endpoint 'AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 04:57:31.343 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyAppointments() on controller AppointmentsController (ServiceAppointment).
2025-05-26 04:57:32.344 +00:00 [INF] Executed DbCommand (42ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 04:57:32.407 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 04:57:32.597 +00:00 [INF] Executed action AppointmentsController.GetMyAppointments (ServiceAppointment) in 1244.6453ms
2025-05-26 04:57:32.600 +00:00 [INF] Executed endpoint 'AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 04:57:32.626 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 1531.5136ms
2025-05-26 04:57:40.661 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 04:57:40.665 +00:00 [INF] CORS policy execution successful.
2025-05-26 04:57:40.669 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 8.1334ms
2025-05-26 04:57:40.674 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5001/api/appointments - application/json 115
2025-05-26 04:57:40.678 +00:00 [INF] CORS policy execution successful.
2025-05-26 04:57:40.686 +00:00 [INF] Executing endpoint 'AppointmentsController.Create (ServiceAppointment)'
2025-05-26 04:57:40.711 +00:00 [INF] Route matched with {action = "Create", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(ServiceAppointment.Models.Appointment) on controller AppointmentsController (ServiceAppointment).
2025-05-26 04:57:40.794 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-26 04:57:40.852 +00:00 [INF] Executed action AppointmentsController.Create (ServiceAppointment) in 139.2706ms
2025-05-26 04:57:40.854 +00:00 [INF] Executed endpoint 'AppointmentsController.Create (ServiceAppointment)'
2025-05-26 04:57:40.856 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5001/api/appointments - 400 null application/problem+json; charset=utf-8 182.2474ms
2025-05-26 05:02:04.399 +00:00 [INF] Application is shutting down...
2025-05-26 05:04:11.844 +00:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 05:04:12.610 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-05-26 05:04:12.643 +00:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-26 05:04:12.648 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-05-26 05:04:12.652 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 05:04:12.669 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-05-26 05:04:12.755 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
2025-05-26 05:04:12.758 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-26 05:04:12.803 +00:00 [INF] Creating key {b505e94d-38cb-4322-8186-19723bed2a68} with creation date 2025-05-26 05:04:12Z, activation date 2025-05-26 05:04:12Z, and expiration date 2025-08-24 05:04:12Z.
2025-05-26 05:04:12.824 +00:00 [WRN] No XML encryptor configured. Key {b505e94d-38cb-4322-8186-19723bed2a68} may be persisted to storage in unencrypted form.
2025-05-26 05:04:12.841 +00:00 [INF] Writing data to file '/root/.aspnet/DataProtection-Keys/key-b505e94d-38cb-4322-8186-19723bed2a68.xml'.
2025-05-26 05:04:13.022 +00:00 [INF] Now listening on: http://[::]:8080
2025-05-26 05:04:13.032 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-26 05:04:13.034 +00:00 [INF] Hosting environment: Development
2025-05-26 05:04:13.035 +00:00 [INF] Content root path: /app
2025-05-26 05:04:59.329 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 05:04:59.419 +00:00 [WRN] Failed to determine the https port for redirect.
2025-05-26 05:04:59.424 +00:00 [INF] CORS policy execution successful.
2025-05-26 05:04:59.439 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 114.2272ms
2025-05-26 05:04:59.459 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 05:04:59.498 +00:00 [INF] CORS policy execution successful.
2025-05-26 05:04:59.895 +00:00 [INF] Executing endpoint 'AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 05:05:00.126 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyAppointments() on controller AppointmentsController (ServiceAppointment).
2025-05-26 05:05:02.292 +00:00 [INF] Executed DbCommand (154ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 05:05:02.473 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 05:05:02.896 +00:00 [INF] Executed action AppointmentsController.GetMyAppointments (ServiceAppointment) in 2735.4202ms
2025-05-26 05:05:02.934 +00:00 [INF] Executed endpoint 'AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 05:05:02.981 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 3522.0889ms
2025-05-26 05:05:13.175 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 05:05:13.182 +00:00 [INF] CORS policy execution successful.
2025-05-26 05:05:13.187 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 12.3214ms
2025-05-26 05:05:13.194 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5001/api/appointments - application/json 115
2025-05-26 05:05:13.201 +00:00 [INF] CORS policy execution successful.
2025-05-26 05:05:13.216 +00:00 [INF] Executing endpoint 'AppointmentsController.Create (ServiceAppointment)'
2025-05-26 05:05:13.256 +00:00 [INF] Route matched with {action = "Create", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(ServiceAppointment.Models.Appointment) on controller AppointmentsController (ServiceAppointment).
2025-05-26 05:05:13.387 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-26 05:05:13.491 +00:00 [INF] Executed action AppointmentsController.Create (ServiceAppointment) in 234.2807ms
2025-05-26 05:05:13.493 +00:00 [INF] Executed endpoint 'AppointmentsController.Create (ServiceAppointment)'
2025-05-26 05:05:13.495 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5001/api/appointments - 400 null application/problem+json; charset=utf-8 301.3304ms
2025-05-26 05:11:21.402 +00:00 [INF] Application is shutting down...
2025-05-26 05:13:08.856 +00:00 [INF] Executed DbCommand (110ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 05:13:10.277 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-05-26 05:13:10.342 +00:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-26 05:13:10.356 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-05-26 05:13:10.367 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 05:13:10.385 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-05-26 05:13:10.542 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
2025-05-26 05:13:10.544 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-26 05:13:10.597 +00:00 [INF] Creating key {95ade805-ded6-421a-b0dd-caa64bc31ece} with creation date 2025-05-26 05:13:10Z, activation date 2025-05-26 05:13:10Z, and expiration date 2025-08-24 05:13:10Z.
2025-05-26 05:13:10.619 +00:00 [WRN] No XML encryptor configured. Key {95ade805-ded6-421a-b0dd-caa64bc31ece} may be persisted to storage in unencrypted form.
2025-05-26 05:13:10.638 +00:00 [INF] Writing data to file '/root/.aspnet/DataProtection-Keys/key-95ade805-ded6-421a-b0dd-caa64bc31ece.xml'.
2025-05-26 05:13:10.804 +00:00 [INF] Now listening on: http://[::]:8080
2025-05-26 05:13:10.810 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-26 05:13:10.812 +00:00 [INF] Hosting environment: Development
2025-05-26 05:13:10.814 +00:00 [INF] Content root path: /app
2025-05-26 05:23:40.996 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 05:23:41.094 +00:00 [WRN] Failed to determine the https port for redirect.
2025-05-26 05:23:41.099 +00:00 [INF] CORS policy execution successful.
2025-05-26 05:23:41.113 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 123.1362ms
2025-05-26 05:23:41.124 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 05:23:41.142 +00:00 [INF] CORS policy execution successful.
2025-05-26 05:23:41.382 +00:00 [INF] Executing endpoint 'AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 05:23:41.427 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyAppointments() on controller AppointmentsController (ServiceAppointment).
2025-05-26 05:23:42.542 +00:00 [INF] Executed DbCommand (60ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 05:23:42.589 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 05:23:42.735 +00:00 [INF] Executed action AppointmentsController.GetMyAppointments (ServiceAppointment) in 1296.5888ms
2025-05-26 05:23:42.738 +00:00 [INF] Executed endpoint 'AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 05:23:42.755 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 1630.8071ms
2025-05-26 05:23:52.996 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 05:23:53.000 +00:00 [INF] CORS policy execution successful.
2025-05-26 05:23:53.004 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 8.2707ms
2025-05-26 05:23:53.010 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5001/api/appointments - application/json 115
2025-05-26 05:23:53.015 +00:00 [INF] CORS policy execution successful.
2025-05-26 05:23:53.023 +00:00 [INF] Executing endpoint 'AppointmentsController.Create (ServiceAppointment)'
2025-05-26 05:23:53.057 +00:00 [INF] Route matched with {action = "Create", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(ServiceAppointment.Models.Requests.AppointmentRequest) on controller AppointmentsController (ServiceAppointment).
2025-05-26 05:23:53.547 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[@p0='?', @p1='?', @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Appointments" ("BranchId", "CustomerId", "ScheduledTime", "Status")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2025-05-26 05:23:53.606 +00:00 [INF] 🧹 Cache invalidated after create
2025-05-26 05:23:53.610 +00:00 [INF] Executing OkObjectResult, writing value of type 'ServiceAppointment.Models.Appointment'.
2025-05-26 05:23:53.626 +00:00 [INF] Executed action AppointmentsController.Create (ServiceAppointment) in 567.0437ms
2025-05-26 05:23:53.627 +00:00 [INF] Executed endpoint 'AppointmentsController.Create (ServiceAppointment)'
2025-05-26 05:23:53.630 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5001/api/appointments - 200 null application/json; charset=utf-8 619.228ms
2025-05-26 05:23:53.644 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 05:23:53.645 +00:00 [INF] CORS policy execution successful.
2025-05-26 05:23:53.647 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 3.4721ms
2025-05-26 05:23:53.653 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 05:23:53.656 +00:00 [INF] CORS policy execution successful.
2025-05-26 05:23:53.668 +00:00 [INF] Executing endpoint 'AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 05:23:53.670 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyAppointments() on controller AppointmentsController (ServiceAppointment).
2025-05-26 05:23:53.671 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - null null
2025-05-26 05:23:53.678 +00:00 [INF] CORS policy execution successful.
2025-05-26 05:23:53.681 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - 204 null null 9.3501ms
2025-05-26 05:23:53.688 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - null null
2025-05-26 05:23:53.691 +00:00 [INF] CORS policy execution successful.
2025-05-26 05:23:53.697 +00:00 [INF] Executing endpoint 'AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 05:23:53.714 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 05:23:53.727 +00:00 [INF] Route matched with {action = "GetByBranch", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByBranch(System.String) on controller AppointmentsController (ServiceAppointment).
2025-05-26 05:23:53.737 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 05:23:53.740 +00:00 [INF] Executed action AppointmentsController.GetMyAppointments (ServiceAppointment) in 66.2706ms
2025-05-26 05:23:53.746 +00:00 [INF] Executed endpoint 'AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 05:23:53.750 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 96.2313ms
2025-05-26 05:23:53.772 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__branchId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."BranchId" = @__branchId_0 AND a."Status" = 'Scheduled'
2025-05-26 05:23:53.783 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 05:23:53.787 +00:00 [INF] Executed action AppointmentsController.GetByBranch (ServiceAppointment) in 54.7386ms
2025-05-26 05:23:53.792 +00:00 [INF] Executed endpoint 'AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 05:23:53.794 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - 200 null application/json; charset=utf-8 105.1339ms
2025-05-26 05:25:09.041 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 05:25:09.046 +00:00 [INF] CORS policy execution successful.
2025-05-26 05:25:09.049 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 8.564ms
2025-05-26 05:25:09.054 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5001/api/appointments - application/json 115
2025-05-26 05:25:09.056 +00:00 [INF] CORS policy execution successful.
2025-05-26 05:25:09.060 +00:00 [INF] Executing endpoint 'AppointmentsController.Create (ServiceAppointment)'
2025-05-26 05:25:09.063 +00:00 [INF] Route matched with {action = "Create", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(ServiceAppointment.Models.Requests.AppointmentRequest) on controller AppointmentsController (ServiceAppointment).
2025-05-26 05:25:09.081 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?', @p1='?', @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Appointments" ("BranchId", "CustomerId", "ScheduledTime", "Status")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2025-05-26 05:25:09.087 +00:00 [INF] 🧹 Cache invalidated after create
2025-05-26 05:25:09.089 +00:00 [INF] Executing OkObjectResult, writing value of type 'ServiceAppointment.Models.Appointment'.
2025-05-26 05:25:09.097 +00:00 [INF] Executed action AppointmentsController.Create (ServiceAppointment) in 32.5517ms
2025-05-26 05:25:09.103 +00:00 [INF] Executed endpoint 'AppointmentsController.Create (ServiceAppointment)'
2025-05-26 05:25:09.106 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5001/api/appointments - 200 null application/json; charset=utf-8 51.8435ms
2025-05-26 05:25:09.123 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 05:25:09.125 +00:00 [INF] CORS policy execution successful.
2025-05-26 05:25:09.129 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 5.3514ms
2025-05-26 05:25:09.135 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 05:25:09.137 +00:00 [INF] CORS policy execution successful.
2025-05-26 05:25:09.141 +00:00 [INF] Executing endpoint 'AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 05:25:09.147 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyAppointments() on controller AppointmentsController (ServiceAppointment).
2025-05-26 05:25:09.148 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - null null
2025-05-26 05:25:09.152 +00:00 [INF] CORS policy execution successful.
2025-05-26 05:25:09.155 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 05:25:09.157 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - 204 null null 9.7092ms
2025-05-26 05:25:09.163 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 05:25:09.165 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - null null
2025-05-26 05:25:09.167 +00:00 [INF] Executed action AppointmentsController.GetMyAppointments (ServiceAppointment) in 17.788ms
2025-05-26 05:25:09.170 +00:00 [INF] CORS policy execution successful.
2025-05-26 05:25:09.174 +00:00 [INF] Executed endpoint 'AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 05:25:09.178 +00:00 [INF] Executing endpoint 'AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 05:25:09.179 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 43.3578ms
2025-05-26 05:25:09.182 +00:00 [INF] Route matched with {action = "GetByBranch", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByBranch(System.String) on controller AppointmentsController (ServiceAppointment).
2025-05-26 05:25:09.218 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__branchId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."BranchId" = @__branchId_0 AND a."Status" = 'Scheduled'
2025-05-26 05:25:09.222 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 05:25:09.224 +00:00 [INF] Executed action AppointmentsController.GetByBranch (ServiceAppointment) in 13.1771ms
2025-05-26 05:25:09.229 +00:00 [INF] Executed endpoint 'AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 05:25:09.236 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - 200 null application/json; charset=utf-8 71.4612ms
2025-05-26 05:26:58.303 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 05:26:58.305 +00:00 [INF] CORS policy execution successful.
2025-05-26 05:26:58.308 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 5.2168ms
2025-05-26 05:26:58.320 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 05:26:58.329 +00:00 [INF] CORS policy execution successful.
2025-05-26 05:26:58.333 +00:00 [INF] Executing endpoint 'AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 05:26:58.335 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyAppointments() on controller AppointmentsController (ServiceAppointment).
2025-05-26 05:26:58.344 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 05:26:58.347 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 05:26:58.348 +00:00 [INF] Executed action AppointmentsController.GetMyAppointments (ServiceAppointment) in 11.0242ms
2025-05-26 05:26:58.350 +00:00 [INF] Executed endpoint 'AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 05:26:58.352 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 31.5007ms
2025-05-26 05:27:21.056 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 05:27:21.059 +00:00 [INF] CORS policy execution successful.
2025-05-26 05:27:21.062 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 5.2222ms
2025-05-26 05:27:21.067 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5001/api/appointments - application/json 115
2025-05-26 05:27:21.069 +00:00 [INF] CORS policy execution successful.
2025-05-26 05:27:21.071 +00:00 [INF] Executing endpoint 'AppointmentsController.Create (ServiceAppointment)'
2025-05-26 05:27:21.073 +00:00 [INF] Route matched with {action = "Create", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(ServiceAppointment.Models.Requests.AppointmentRequest) on controller AppointmentsController (ServiceAppointment).
2025-05-26 05:27:21.081 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?', @p1='?', @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Appointments" ("BranchId", "CustomerId", "ScheduledTime", "Status")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2025-05-26 05:27:21.084 +00:00 [INF] 🧹 Cache invalidated after create
2025-05-26 05:27:21.086 +00:00 [INF] Executing OkObjectResult, writing value of type 'ServiceAppointment.Models.Appointment'.
2025-05-26 05:27:21.088 +00:00 [INF] Executed action AppointmentsController.Create (ServiceAppointment) in 14.0269ms
2025-05-26 05:27:21.091 +00:00 [INF] Executed endpoint 'AppointmentsController.Create (ServiceAppointment)'
2025-05-26 05:27:21.093 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5001/api/appointments - 200 null application/json; charset=utf-8 25.7635ms
2025-05-26 05:27:21.109 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 05:27:21.110 +00:00 [INF] CORS policy execution successful.
2025-05-26 05:27:21.112 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 3.2826ms
2025-05-26 05:27:21.118 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 05:27:21.119 +00:00 [INF] CORS policy execution successful.
2025-05-26 05:27:21.122 +00:00 [INF] Executing endpoint 'AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 05:27:21.125 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyAppointments() on controller AppointmentsController (ServiceAppointment).
2025-05-26 05:27:21.135 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/1ea0fac3-1acc-41d6-a140-3aaaa439659c - null null
2025-05-26 05:27:21.135 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 05:27:21.138 +00:00 [INF] CORS policy execution successful.
2025-05-26 05:27:21.143 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 05:27:21.145 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/1ea0fac3-1acc-41d6-a140-3aaaa439659c - 204 null null 10.7803ms
2025-05-26 05:27:21.149 +00:00 [INF] Executed action AppointmentsController.GetMyAppointments (ServiceAppointment) in 21.6296ms
2025-05-26 05:27:21.153 +00:00 [INF] Executed endpoint 'AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 05:27:21.154 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/1ea0fac3-1acc-41d6-a140-3aaaa439659c - null null
2025-05-26 05:27:21.159 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 41.0316ms
2025-05-26 05:27:21.161 +00:00 [INF] CORS policy execution successful.
2025-05-26 05:27:21.165 +00:00 [INF] Executing endpoint 'AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 05:27:21.166 +00:00 [INF] Route matched with {action = "GetByBranch", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByBranch(System.String) on controller AppointmentsController (ServiceAppointment).
2025-05-26 05:27:21.173 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__branchId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."BranchId" = @__branchId_0 AND a."Status" = 'Scheduled'
2025-05-26 05:27:21.176 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 05:27:21.178 +00:00 [INF] Executed action AppointmentsController.GetByBranch (ServiceAppointment) in 10.0441ms
2025-05-26 05:27:21.181 +00:00 [INF] Executed endpoint 'AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 05:27:21.182 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/1ea0fac3-1acc-41d6-a140-3aaaa439659c - 200 null application/json; charset=utf-8 28.2635ms
2025-05-26 05:27:43.071 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - null null
2025-05-26 05:27:43.072 +00:00 [INF] CORS policy execution successful.
2025-05-26 05:27:43.079 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - 204 null null 8.0905ms
2025-05-26 05:27:43.084 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - null null
2025-05-26 05:27:43.086 +00:00 [INF] CORS policy execution successful.
2025-05-26 05:27:43.088 +00:00 [INF] Executing endpoint 'AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 05:27:43.089 +00:00 [INF] Route matched with {action = "GetByBranch", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByBranch(System.String) on controller AppointmentsController (ServiceAppointment).
2025-05-26 05:27:43.097 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__branchId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."BranchId" = @__branchId_0 AND a."Status" = 'Scheduled'
2025-05-26 05:27:43.100 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 05:27:43.102 +00:00 [INF] Executed action AppointmentsController.GetByBranch (ServiceAppointment) in 11.0008ms
2025-05-26 05:27:43.103 +00:00 [INF] Executed endpoint 'AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 05:27:43.106 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - 200 null application/json; charset=utf-8 21.2805ms
2025-05-26 05:30:04.180 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/1 - null null
2025-05-26 05:30:04.182 +00:00 [INF] CORS policy execution successful.
2025-05-26 05:30:04.185 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/1 - 204 null null 5.4915ms
2025-05-26 05:30:04.194 +00:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5001/api/appointments/1 - null null
2025-05-26 05:30:04.196 +00:00 [INF] CORS policy execution successful.
2025-05-26 05:30:04.199 +00:00 [INF] Executing endpoint 'AppointmentsController.Cancel (ServiceAppointment)'
2025-05-26 05:30:04.220 +00:00 [INF] Route matched with {action = "Cancel", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Cancel(Int32) on controller AppointmentsController (ServiceAppointment).
2025-05-26 05:30:04.330 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-05-26 05:30:04.349 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Appointments" SET "Status" = @p0
WHERE "Id" = @p1;
2025-05-26 05:30:04.354 +00:00 [INF] 🧹 Cache invalidated after cancel
2025-05-26 05:30:04.365 +00:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-05-26 05:30:04.366 +00:00 [INF] Executed action AppointmentsController.Cancel (ServiceAppointment) in 144.6211ms
2025-05-26 05:30:04.369 +00:00 [INF] Executed endpoint 'AppointmentsController.Cancel (ServiceAppointment)'
2025-05-26 05:30:04.372 +00:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5001/api/appointments/1 - 204 null null 177.8144ms
2025-05-26 05:30:04.391 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 05:30:04.393 +00:00 [INF] CORS policy execution successful.
2025-05-26 05:30:04.395 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 3.8892ms
2025-05-26 05:30:04.403 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 05:30:04.406 +00:00 [INF] CORS policy execution successful.
2025-05-26 05:30:04.415 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - null null
2025-05-26 05:30:04.416 +00:00 [INF] Executing endpoint 'AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 05:30:04.422 +00:00 [INF] CORS policy execution successful.
2025-05-26 05:30:04.427 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyAppointments() on controller AppointmentsController (ServiceAppointment).
2025-05-26 05:30:04.431 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - 204 null null 15.5834ms
2025-05-26 05:30:04.440 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 05:30:04.456 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - null null
2025-05-26 05:30:04.464 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 05:30:04.472 +00:00 [INF] Executed action AppointmentsController.GetMyAppointments (ServiceAppointment) in 36.9723ms
2025-05-26 05:30:04.476 +00:00 [INF] Executed endpoint 'AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 05:30:04.478 +00:00 [INF] CORS policy execution successful.
2025-05-26 05:30:04.496 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 92.4905ms
2025-05-26 05:30:04.496 +00:00 [INF] Executing endpoint 'AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 05:30:04.515 +00:00 [INF] Route matched with {action = "GetByBranch", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByBranch(System.String) on controller AppointmentsController (ServiceAppointment).
2025-05-26 05:30:04.522 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__branchId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."BranchId" = @__branchId_0 AND a."Status" = 'Scheduled'
2025-05-26 05:30:04.536 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 05:30:04.540 +00:00 [INF] Executed action AppointmentsController.GetByBranch (ServiceAppointment) in 24.6869ms
2025-05-26 05:30:04.547 +00:00 [INF] Executed endpoint 'AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 05:30:04.552 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - 200 null application/json; charset=utf-8 95.3401ms
2025-05-26 05:30:23.927 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/1ea0fac3-1acc-41d6-a140-3aaaa439659c - null null
2025-05-26 05:30:23.928 +00:00 [INF] CORS policy execution successful.
2025-05-26 05:30:23.930 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/1ea0fac3-1acc-41d6-a140-3aaaa439659c - 204 null null 3.0555ms
2025-05-26 05:30:23.936 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/1ea0fac3-1acc-41d6-a140-3aaaa439659c - null null
2025-05-26 05:30:23.941 +00:00 [INF] CORS policy execution successful.
2025-05-26 05:30:23.944 +00:00 [INF] Executing endpoint 'AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 05:30:23.945 +00:00 [INF] Route matched with {action = "GetByBranch", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByBranch(System.String) on controller AppointmentsController (ServiceAppointment).
2025-05-26 05:30:23.953 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__branchId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."BranchId" = @__branchId_0 AND a."Status" = 'Scheduled'
2025-05-26 05:30:23.957 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 05:30:23.960 +00:00 [INF] Executed action AppointmentsController.GetByBranch (ServiceAppointment) in 12.5077ms
2025-05-26 05:30:23.962 +00:00 [INF] Executed endpoint 'AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 05:30:23.965 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/1ea0fac3-1acc-41d6-a140-3aaaa439659c - 200 null application/json; charset=utf-8 28.352ms
2025-05-26 05:53:49.533 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 05:53:49.544 +00:00 [INF] CORS policy execution successful.
2025-05-26 05:53:49.548 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 14.1413ms
2025-05-26 05:53:49.557 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 05:53:49.559 +00:00 [INF] CORS policy execution successful.
2025-05-26 05:53:49.561 +00:00 [INF] Executing endpoint 'AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 05:53:49.563 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyAppointments() on controller AppointmentsController (ServiceAppointment).
2025-05-26 05:53:49.590 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 05:53:49.592 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 05:53:49.595 +00:00 [INF] Executed action AppointmentsController.GetMyAppointments (ServiceAppointment) in 28.9399ms
2025-05-26 05:53:49.596 +00:00 [INF] Executed endpoint 'AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 05:53:49.598 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 40.7239ms
2025-05-26 05:54:01.121 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 05:54:01.126 +00:00 [INF] CORS policy execution successful.
2025-05-26 05:54:01.127 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 5.652ms
2025-05-26 05:54:01.131 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5001/api/appointments - application/json 115
2025-05-26 05:54:01.133 +00:00 [INF] CORS policy execution successful.
2025-05-26 05:54:01.136 +00:00 [INF] Executing endpoint 'AppointmentsController.Create (ServiceAppointment)'
2025-05-26 05:54:01.138 +00:00 [INF] Route matched with {action = "Create", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(ServiceAppointment.Models.Requests.AppointmentRequest) on controller AppointmentsController (ServiceAppointment).
2025-05-26 05:54:01.153 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?', @p1='?', @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Appointments" ("BranchId", "CustomerId", "ScheduledTime", "Status")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2025-05-26 05:54:01.157 +00:00 [INF] 🧹 Cache invalidated after create
2025-05-26 05:54:01.159 +00:00 [INF] Executing OkObjectResult, writing value of type 'ServiceAppointment.Models.Appointment'.
2025-05-26 05:54:01.162 +00:00 [INF] Executed action AppointmentsController.Create (ServiceAppointment) in 18.1497ms
2025-05-26 05:54:01.164 +00:00 [INF] Executed endpoint 'AppointmentsController.Create (ServiceAppointment)'
2025-05-26 05:54:01.165 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5001/api/appointments - 200 null application/json; charset=utf-8 34.4835ms
2025-05-26 05:54:01.173 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 05:54:01.179 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - null null
2025-05-26 05:54:01.180 +00:00 [INF] CORS policy execution successful.
2025-05-26 05:54:01.184 +00:00 [INF] CORS policy execution successful.
2025-05-26 05:54:01.187 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 13.5464ms
2025-05-26 05:54:01.189 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - 204 null null 9.1431ms
2025-05-26 05:54:01.193 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - null null
2025-05-26 05:54:01.194 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 05:54:01.195 +00:00 [INF] CORS policy execution successful.
2025-05-26 05:54:01.197 +00:00 [INF] CORS policy execution successful.
2025-05-26 05:54:01.201 +00:00 [INF] Executing endpoint 'AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 05:54:01.206 +00:00 [INF] Executing endpoint 'AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 05:54:01.211 +00:00 [INF] Route matched with {action = "GetByBranch", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByBranch(System.String) on controller AppointmentsController (ServiceAppointment).
2025-05-26 05:54:01.213 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyAppointments() on controller AppointmentsController (ServiceAppointment).
2025-05-26 05:54:01.221 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__branchId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."BranchId" = @__branchId_0 AND a."Status" = 'Scheduled'
2025-05-26 05:54:01.226 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 05:54:01.229 +00:00 [INF] Executed action AppointmentsController.GetByBranch (ServiceAppointment) in 13.3365ms
2025-05-26 05:54:01.232 +00:00 [INF] Executed endpoint 'AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 05:54:01.240 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - 200 null application/json; charset=utf-8 41.722ms
2025-05-26 05:54:01.252 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 05:54:01.260 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 05:54:01.265 +00:00 [INF] Executed action AppointmentsController.GetMyAppointments (ServiceAppointment) in 44.3777ms
2025-05-26 05:54:01.269 +00:00 [INF] Executed endpoint 'AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 05:54:01.272 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 78.2295ms
2025-05-26 05:54:59.098 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 05:54:59.100 +00:00 [INF] CORS policy execution successful.
2025-05-26 05:54:59.103 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 4.567ms
2025-05-26 05:54:59.107 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5001/api/appointments - application/json 115
2025-05-26 05:54:59.108 +00:00 [INF] CORS policy execution successful.
2025-05-26 05:54:59.111 +00:00 [INF] Executing endpoint 'AppointmentsController.Create (ServiceAppointment)'
2025-05-26 05:54:59.112 +00:00 [INF] Route matched with {action = "Create", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(ServiceAppointment.Models.Requests.AppointmentRequest) on controller AppointmentsController (ServiceAppointment).
2025-05-26 05:54:59.131 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?', @p1='?', @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Appointments" ("BranchId", "CustomerId", "ScheduledTime", "Status")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2025-05-26 05:54:59.134 +00:00 [INF] 🧹 Cache invalidated after create
2025-05-26 05:54:59.137 +00:00 [INF] Executing OkObjectResult, writing value of type 'ServiceAppointment.Models.Appointment'.
2025-05-26 05:54:59.138 +00:00 [INF] Executed action AppointmentsController.Create (ServiceAppointment) in 23.7231ms
2025-05-26 05:54:59.139 +00:00 [INF] Executed endpoint 'AppointmentsController.Create (ServiceAppointment)'
2025-05-26 05:54:59.142 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5001/api/appointments - 200 null application/json; charset=utf-8 34.3506ms
2025-05-26 05:54:59.148 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 05:54:59.149 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - null null
2025-05-26 05:54:59.149 +00:00 [INF] CORS policy execution successful.
2025-05-26 05:54:59.150 +00:00 [INF] CORS policy execution successful.
2025-05-26 05:54:59.152 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 3.7393ms
2025-05-26 05:54:59.154 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - 204 null null 5.3651ms
2025-05-26 05:54:59.158 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 05:54:59.159 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - null null
2025-05-26 05:54:59.159 +00:00 [INF] CORS policy execution successful.
2025-05-26 05:54:59.160 +00:00 [INF] CORS policy execution successful.
2025-05-26 05:54:59.162 +00:00 [INF] Executing endpoint 'AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 05:54:59.163 +00:00 [INF] Executing endpoint 'AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 05:54:59.164 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyAppointments() on controller AppointmentsController (ServiceAppointment).
2025-05-26 05:54:59.165 +00:00 [INF] Route matched with {action = "GetByBranch", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByBranch(System.String) on controller AppointmentsController (ServiceAppointment).
2025-05-26 05:54:59.171 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 05:54:59.172 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__branchId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."BranchId" = @__branchId_0 AND a."Status" = 'Scheduled'
2025-05-26 05:54:59.173 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 05:54:59.174 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 05:54:59.175 +00:00 [INF] Executed action AppointmentsController.GetMyAppointments (ServiceAppointment) in 8.3167ms
2025-05-26 05:54:59.175 +00:00 [INF] Executed action AppointmentsController.GetByBranch (ServiceAppointment) in 8.0857ms
2025-05-26 05:54:59.177 +00:00 [INF] Executed endpoint 'AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 05:54:59.178 +00:00 [INF] Executed endpoint 'AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 05:54:59.180 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 22.0259ms
2025-05-26 05:54:59.185 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - 200 null application/json; charset=utf-8 25.2738ms
2025-05-26 06:06:19.382 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 06:06:19.390 +00:00 [INF] CORS policy execution successful.
2025-05-26 06:06:19.393 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 10.44ms
2025-05-26 06:06:19.397 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 06:06:19.399 +00:00 [INF] CORS policy execution successful.
2025-05-26 06:06:19.403 +00:00 [INF] Executing endpoint 'AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 06:06:19.405 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyAppointments() on controller AppointmentsController (ServiceAppointment).
2025-05-26 06:06:19.510 +00:00 [INF] Executed DbCommand (73ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 06:06:19.517 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 06:06:19.528 +00:00 [INF] Executed action AppointmentsController.GetMyAppointments (ServiceAppointment) in 122.5297ms
2025-05-26 06:06:19.533 +00:00 [INF] Executed endpoint 'AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 06:06:19.540 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 142.655ms
2025-05-26 06:06:58.319 +00:00 [INF] Application is shutting down...
2025-05-26 06:08:06.031 +00:00 [INF] Executed DbCommand (114ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 06:08:07.633 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-05-26 06:08:07.723 +00:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-26 06:08:07.751 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-05-26 06:08:07.755 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 06:08:07.803 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-05-26 06:08:07.988 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
2025-05-26 06:08:07.991 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-26 06:08:08.142 +00:00 [INF] Creating key {225145c9-1779-48ec-897c-0eec378753b3} with creation date 2025-05-26 06:08:08Z, activation date 2025-05-26 06:08:08Z, and expiration date 2025-08-24 06:08:08Z.
2025-05-26 06:08:08.205 +00:00 [WRN] No XML encryptor configured. Key {225145c9-1779-48ec-897c-0eec378753b3} may be persisted to storage in unencrypted form.
2025-05-26 06:08:08.286 +00:00 [INF] Writing data to file '/root/.aspnet/DataProtection-Keys/key-225145c9-1779-48ec-897c-0eec378753b3.xml'.
2025-05-26 06:08:08.659 +00:00 [INF] Now listening on: http://[::]:8080
2025-05-26 06:08:08.774 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-26 06:08:08.986 +00:00 [INF] Hosting environment: Development
2025-05-26 06:08:08.991 +00:00 [INF] Content root path: /app
2025-05-26 06:10:45.745 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 06:10:45.826 +00:00 [WRN] Failed to determine the https port for redirect.
2025-05-26 06:10:45.830 +00:00 [INF] CORS policy execution successful.
2025-05-26 06:10:45.844 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 101.5447ms
2025-05-26 06:10:45.854 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 06:10:45.871 +00:00 [INF] CORS policy execution successful.
2025-05-26 06:10:46.046 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetById (ServiceAppointment)'
2025-05-26 06:10:46.125 +00:00 [INF] Route matched with {action = "GetById", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ServiceAppointment.Models.Appointment]] GetById(Int32) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 06:10:46.173 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-26 06:10:46.364 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetById (ServiceAppointment) in 231.8614ms
2025-05-26 06:10:46.366 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetById (ServiceAppointment)'
2025-05-26 06:10:46.374 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 400 null application/problem+json; charset=utf-8 519.9129ms
2025-05-26 06:12:05.647 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 06:12:05.674 +00:00 [INF] CORS policy execution successful.
2025-05-26 06:12:05.687 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 39.4868ms
2025-05-26 06:12:05.711 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 06:12:05.721 +00:00 [INF] CORS policy execution successful.
2025-05-26 06:12:05.745 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetById (ServiceAppointment)'
2025-05-26 06:12:05.752 +00:00 [INF] Route matched with {action = "GetById", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ServiceAppointment.Models.Appointment]] GetById(Int32) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 06:12:05.775 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-26 06:12:05.779 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetById (ServiceAppointment) in 23.0866ms
2025-05-26 06:12:05.781 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetById (ServiceAppointment)'
2025-05-26 06:12:05.788 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 400 null application/problem+json; charset=utf-8 76.1922ms
2025-05-26 06:12:50.912 +00:00 [INF] Application is shutting down...
2025-05-26 06:17:02.837 +00:00 [INF] Executed DbCommand (132ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 06:17:04.184 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-05-26 06:17:04.219 +00:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-26 06:17:04.225 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-05-26 06:17:04.231 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 06:17:04.256 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-05-26 06:17:04.353 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
2025-05-26 06:17:04.357 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-26 06:17:04.446 +00:00 [INF] Creating key {11f1d23f-f110-44dd-9758-8fab9fa3f4f4} with creation date 2025-05-26 06:17:04Z, activation date 2025-05-26 06:17:04Z, and expiration date 2025-08-24 06:17:04Z.
2025-05-26 06:17:04.465 +00:00 [WRN] No XML encryptor configured. Key {11f1d23f-f110-44dd-9758-8fab9fa3f4f4} may be persisted to storage in unencrypted form.
2025-05-26 06:17:04.481 +00:00 [INF] Writing data to file '/root/.aspnet/DataProtection-Keys/key-11f1d23f-f110-44dd-9758-8fab9fa3f4f4.xml'.
2025-05-26 06:17:04.709 +00:00 [INF] Now listening on: http://[::]:8080
2025-05-26 06:17:04.717 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-26 06:17:04.722 +00:00 [INF] Hosting environment: Development
2025-05-26 06:17:04.726 +00:00 [INF] Content root path: /app
2025-05-26 06:17:18.310 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 06:17:18.537 +00:00 [WRN] Failed to determine the https port for redirect.
2025-05-26 06:17:18.551 +00:00 [INF] CORS policy execution successful.
2025-05-26 06:17:18.615 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 298.7873ms
2025-05-26 06:17:18.633 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 06:17:18.685 +00:00 [INF] CORS policy execution successful.
2025-05-26 06:17:19.191 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 06:17:19.350 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 06:17:21.557 +00:00 [INF] Executed DbCommand (111ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 06:17:21.989 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 06:17:22.540 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 3179.0237ms
2025-05-26 06:17:22.552 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 06:17:22.595 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 3966.3184ms
2025-05-26 06:17:24.481 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 06:17:24.496 +00:00 [INF] CORS policy execution successful.
2025-05-26 06:17:24.500 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 18.4707ms
2025-05-26 06:17:24.508 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 06:17:24.518 +00:00 [INF] CORS policy execution successful.
2025-05-26 06:17:24.537 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 06:17:24.546 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 06:17:24.818 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 06:17:24.868 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 06:17:24.871 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 321.2089ms
2025-05-26 06:17:24.873 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 06:17:24.876 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 367.3121ms
2025-05-26 06:17:56.728 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 06:17:56.749 +00:00 [INF] CORS policy execution successful.
2025-05-26 06:17:56.784 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 56.278ms
2025-05-26 06:17:56.792 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 06:17:56.827 +00:00 [INF] CORS policy execution successful.
2025-05-26 06:17:56.867 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 06:17:56.880 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 06:17:56.947 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 06:17:56.958 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 06:17:56.966 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 69.9945ms
2025-05-26 06:17:56.977 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 06:17:56.986 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 194.7881ms
2025-05-26 06:18:12.277 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - null null
2025-05-26 06:18:12.278 +00:00 [INF] CORS policy execution successful.
2025-05-26 06:18:12.281 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - 204 null null 4.7033ms
2025-05-26 06:18:12.289 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - null null
2025-05-26 06:18:12.291 +00:00 [INF] CORS policy execution successful.
2025-05-26 06:18:12.295 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - 404 0 null 5.5841ms
2025-05-26 06:18:12.299 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b, Response status code: 404
2025-05-26 06:25:27.321 +00:00 [INF] Application is shutting down...
2025-05-26 06:26:51.812 +00:00 [INF] Executed DbCommand (155ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 06:26:53.509 +00:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-05-26 06:26:53.602 +00:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-26 06:26:53.615 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-05-26 06:26:53.641 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 06:26:53.681 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-05-26 06:26:54.340 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
2025-05-26 06:26:54.353 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-26 06:26:54.481 +00:00 [INF] Creating key {250f1956-a237-4622-ae1d-8f4628185470} with creation date 2025-05-26 06:26:54Z, activation date 2025-05-26 06:26:54Z, and expiration date 2025-08-24 06:26:54Z.
2025-05-26 06:26:54.532 +00:00 [WRN] No XML encryptor configured. Key {250f1956-a237-4622-ae1d-8f4628185470} may be persisted to storage in unencrypted form.
2025-05-26 06:26:54.551 +00:00 [INF] Writing data to file '/root/.aspnet/DataProtection-Keys/key-250f1956-a237-4622-ae1d-8f4628185470.xml'.
2025-05-26 06:26:54.878 +00:00 [INF] Now listening on: http://[::]:8080
2025-05-26 06:26:54.895 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-26 06:26:54.905 +00:00 [INF] Hosting environment: Development
2025-05-26 06:26:54.907 +00:00 [INF] Content root path: /app
2025-05-26 06:28:06.500 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 06:28:06.699 +00:00 [WRN] Failed to determine the https port for redirect.
2025-05-26 06:28:06.741 +00:00 [INF] CORS policy execution successful.
2025-05-26 06:28:06.787 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 302.3557ms
2025-05-26 06:28:06.905 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 06:28:07.002 +00:00 [INF] CORS policy execution successful.
2025-05-26 06:28:07.462 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 06:28:07.659 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 06:28:09.146 +00:00 [INF] Executed DbCommand (38ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 06:28:09.310 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 06:28:09.509 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 1832.3282ms
2025-05-26 06:28:09.512 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 06:28:09.528 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 2623.28ms
2025-05-26 06:28:18.164 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - null null
2025-05-26 06:28:18.168 +00:00 [INF] CORS policy execution successful.
2025-05-26 06:28:18.170 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - 204 null null 6.1044ms
2025-05-26 06:28:18.176 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - null null
2025-05-26 06:28:18.181 +00:00 [INF] CORS policy execution successful.
2025-05-26 06:28:18.192 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 06:28:18.215 +00:00 [INF] Route matched with {action = "GetByBranch", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetByBranch(System.String) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 06:28:18.379 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__branchId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."BranchId" = @__branchId_0 AND a."Status" = 'Scheduled'
2025-05-26 06:28:18.390 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 06:28:18.394 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment) in 177.0037ms
2025-05-26 06:28:18.396 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 06:28:18.399 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - 200 null application/json; charset=utf-8 223.6926ms
2025-05-26 06:28:54.273 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/1ea0fac3-1acc-41d6-a140-3aaaa439659c - null null
2025-05-26 06:28:54.274 +00:00 [INF] CORS policy execution successful.
2025-05-26 06:28:54.279 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/1ea0fac3-1acc-41d6-a140-3aaaa439659c - 204 null null 6.0252ms
2025-05-26 06:28:54.285 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/1ea0fac3-1acc-41d6-a140-3aaaa439659c - null null
2025-05-26 06:28:54.286 +00:00 [INF] CORS policy execution successful.
2025-05-26 06:28:54.299 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 06:28:54.302 +00:00 [INF] Route matched with {action = "GetByBranch", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetByBranch(System.String) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 06:28:54.322 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__branchId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."BranchId" = @__branchId_0 AND a."Status" = 'Scheduled'
2025-05-26 06:28:54.325 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 06:28:54.328 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment) in 24.7068ms
2025-05-26 06:28:54.331 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 06:28:54.333 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/1ea0fac3-1acc-41d6-a140-3aaaa439659c - 200 null application/json; charset=utf-8 48.64ms
2025-05-26 06:35:29.993 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 06:35:30.125 +00:00 [INF] CORS policy execution successful.
2025-05-26 06:35:30.146 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 152.4122ms
2025-05-26 06:35:30.256 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 06:35:30.299 +00:00 [INF] CORS policy execution successful.
2025-05-26 06:35:30.317 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 06:35:30.330 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 06:35:30.509 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 06:35:30.526 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 06:35:30.546 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 152.5761ms
2025-05-26 06:35:30.586 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 06:35:30.605 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 348.2047ms
2025-05-26 06:35:49.247 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/1ea0fac3-1acc-41d6-a140-3aaaa439659c - null null
2025-05-26 06:35:49.249 +00:00 [INF] CORS policy execution successful.
2025-05-26 06:35:49.250 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/1ea0fac3-1acc-41d6-a140-3aaaa439659c - 204 null null 3.7607ms
2025-05-26 06:35:49.256 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/1ea0fac3-1acc-41d6-a140-3aaaa439659c - null null
2025-05-26 06:35:49.258 +00:00 [INF] CORS policy execution successful.
2025-05-26 06:35:49.260 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 06:35:49.264 +00:00 [INF] Route matched with {action = "GetByBranch", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetByBranch(System.String) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 06:35:49.271 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__branchId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."BranchId" = @__branchId_0 AND a."Status" = 'Scheduled'
2025-05-26 06:35:49.276 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 06:35:49.279 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment) in 13.8497ms
2025-05-26 06:35:49.281 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 06:35:49.284 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/1ea0fac3-1acc-41d6-a140-3aaaa439659c - 200 null application/json; charset=utf-8 27.7004ms
2025-05-26 06:36:24.304 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 06:36:24.321 +00:00 [INF] CORS policy execution successful.
2025-05-26 06:36:24.351 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 46.517ms
2025-05-26 06:36:24.360 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5001/api/appointments - application/json 115
2025-05-26 06:36:24.365 +00:00 [INF] CORS policy execution successful.
2025-05-26 06:36:24.369 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment)'
2025-05-26 06:36:24.389 +00:00 [INF] Route matched with {action = "Create", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(ServiceAppointment.Models.Requests.AppointmentRequest) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 06:36:24.552 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__branchId_0='?', @__normalizedTime_Year_1='?' (DbType = Int32), @__normalizedTime_Month_2='?' (DbType = Int32), @__normalizedTime_Day_3='?' (DbType = Int32), @__normalizedTime_Hour_4='?' (DbType = Int32), @__normalizedTime_Minute_5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Appointments" AS a
    WHERE a."BranchId" = @__branchId_0 AND date_part('year', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Year_1 AND date_part('month', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Month_2 AND date_part('day', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Day_3 AND date_part('hour', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Hour_4 AND date_part('minute', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Minute_5)
2025-05-26 06:36:24.561 +00:00 [INF] Executing ConflictObjectResult, writing value of type 'System.String'.
2025-05-26 06:36:24.563 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment) in 172.8834ms
2025-05-26 06:36:24.565 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment)'
2025-05-26 06:36:24.567 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5001/api/appointments - 409 null text/plain; charset=utf-8 206.6145ms
2025-05-26 06:39:56.699 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 06:39:56.713 +00:00 [INF] CORS policy execution successful.
2025-05-26 06:39:56.734 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 34.8144ms
2025-05-26 06:39:56.833 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 06:39:56.885 +00:00 [INF] CORS policy execution successful.
2025-05-26 06:39:56.890 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 06:39:56.894 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 06:39:56.902 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 06:39:56.908 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 06:39:56.914 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 17.2185ms
2025-05-26 06:39:56.915 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 06:39:56.917 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 84.4421ms
2025-05-26 06:40:09.875 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - null null
2025-05-26 06:40:09.877 +00:00 [INF] CORS policy execution successful.
2025-05-26 06:40:09.882 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - 204 null null 6.7051ms
2025-05-26 06:40:09.889 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - null null
2025-05-26 06:40:09.891 +00:00 [INF] CORS policy execution successful.
2025-05-26 06:40:09.896 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 06:40:09.897 +00:00 [INF] Route matched with {action = "GetByBranch", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetByBranch(System.String) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 06:40:09.905 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__branchId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."BranchId" = @__branchId_0 AND a."Status" = 'Scheduled'
2025-05-26 06:40:09.907 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 06:40:09.935 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment) in 36.0155ms
2025-05-26 06:40:09.957 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 06:40:10.001 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - 200 null application/json; charset=utf-8 111.4517ms
2025-05-26 06:40:23.166 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/1ea0fac3-1acc-41d6-a140-3aaaa439659c - null null
2025-05-26 06:40:23.168 +00:00 [INF] CORS policy execution successful.
2025-05-26 06:40:23.173 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/1ea0fac3-1acc-41d6-a140-3aaaa439659c - 204 null null 6.6751ms
2025-05-26 06:40:23.185 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/1ea0fac3-1acc-41d6-a140-3aaaa439659c - null null
2025-05-26 06:40:23.189 +00:00 [INF] CORS policy execution successful.
2025-05-26 06:40:23.194 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 06:40:23.197 +00:00 [INF] Route matched with {action = "GetByBranch", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetByBranch(System.String) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 06:40:23.204 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__branchId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."BranchId" = @__branchId_0 AND a."Status" = 'Scheduled'
2025-05-26 06:40:23.206 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 06:40:23.208 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment) in 9.6658ms
2025-05-26 06:40:23.211 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 06:40:23.212 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/1ea0fac3-1acc-41d6-a140-3aaaa439659c - 200 null application/json; charset=utf-8 26.2925ms
2025-05-26 06:40:43.537 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 06:40:43.539 +00:00 [INF] CORS policy execution successful.
2025-05-26 06:40:43.546 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 9.2564ms
2025-05-26 06:40:43.552 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5001/api/appointments - application/json 115
2025-05-26 06:40:43.553 +00:00 [INF] CORS policy execution successful.
2025-05-26 06:40:43.555 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment)'
2025-05-26 06:40:43.556 +00:00 [INF] Route matched with {action = "Create", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(ServiceAppointment.Models.Requests.AppointmentRequest) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 06:40:43.591 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__branchId_0='?', @__normalizedTime_Year_1='?' (DbType = Int32), @__normalizedTime_Month_2='?' (DbType = Int32), @__normalizedTime_Day_3='?' (DbType = Int32), @__normalizedTime_Hour_4='?' (DbType = Int32), @__normalizedTime_Minute_5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Appointments" AS a
    WHERE a."BranchId" = @__branchId_0 AND date_part('year', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Year_1 AND date_part('month', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Month_2 AND date_part('day', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Day_3 AND date_part('hour', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Hour_4 AND date_part('minute', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Minute_5)
2025-05-26 06:40:43.594 +00:00 [INF] Executing ConflictObjectResult, writing value of type 'System.String'.
2025-05-26 06:40:43.596 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment) in 36.4748ms
2025-05-26 06:40:43.598 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment)'
2025-05-26 06:40:43.599 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5001/api/appointments - 409 null text/plain; charset=utf-8 47.7885ms
2025-05-26 07:06:33.454 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 07:06:33.457 +00:00 [INF] CORS policy execution successful.
2025-05-26 07:06:33.461 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 7.535ms
2025-05-26 07:06:33.467 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5001/api/appointments - application/json 115
2025-05-26 07:06:33.471 +00:00 [INF] CORS policy execution successful.
2025-05-26 07:06:33.474 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment)'
2025-05-26 07:06:33.478 +00:00 [INF] Route matched with {action = "Create", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(ServiceAppointment.Models.Requests.AppointmentRequest) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 07:06:33.513 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__branchId_0='?', @__normalizedTime_Year_1='?' (DbType = Int32), @__normalizedTime_Month_2='?' (DbType = Int32), @__normalizedTime_Day_3='?' (DbType = Int32), @__normalizedTime_Hour_4='?' (DbType = Int32), @__normalizedTime_Minute_5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Appointments" AS a
    WHERE a."BranchId" = @__branchId_0 AND date_part('year', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Year_1 AND date_part('month', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Month_2 AND date_part('day', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Day_3 AND date_part('hour', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Hour_4 AND date_part('minute', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Minute_5)
2025-05-26 07:06:33.812 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?', @p1='?', @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Appointments" ("BranchId", "CustomerId", "ScheduledTime", "Status")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2025-05-26 07:06:33.903 +00:00 [INF] 🧹 Cache invalidated after create
2025-05-26 07:06:33.906 +00:00 [INF] Executing CreatedAtActionResult, writing value of type 'ServiceAppointment.Models.Appointment'.
2025-05-26 07:06:33.950 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment) in 465.6492ms
2025-05-26 07:06:33.953 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment)'
2025-05-26 07:06:33.958 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5001/api/appointments - 201 null application/json; charset=utf-8 490.5666ms
2025-05-26 07:06:33.976 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 07:06:33.989 +00:00 [INF] CORS policy execution successful.
2025-05-26 07:06:33.996 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/1ea0fac3-1acc-41d6-a140-3aaaa439659c - null null
2025-05-26 07:06:33.999 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 22.6049ms
2025-05-26 07:06:34.010 +00:00 [INF] CORS policy execution successful.
2025-05-26 07:06:34.022 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 07:06:34.033 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/1ea0fac3-1acc-41d6-a140-3aaaa439659c - 204 null null 37.2188ms
2025-05-26 07:06:34.044 +00:00 [INF] CORS policy execution successful.
2025-05-26 07:06:34.049 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/1ea0fac3-1acc-41d6-a140-3aaaa439659c - null null
2025-05-26 07:06:34.060 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 07:06:34.063 +00:00 [INF] CORS policy execution successful.
2025-05-26 07:06:34.067 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 07:06:34.073 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 07:06:34.080 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 07:06:34.082 +00:00 [INF] Route matched with {action = "GetByBranch", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetByBranch(System.String) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 07:06:34.091 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 07:06:34.113 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__branchId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."BranchId" = @__branchId_0 AND a."Status" = 'Scheduled'
2025-05-26 07:06:34.113 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 37.2699ms
2025-05-26 07:06:34.122 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 07:06:34.126 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 07:06:34.129 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment) in 32.5318ms
2025-05-26 07:06:34.158 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 07:06:34.148 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 126.0147ms
2025-05-26 07:06:34.163 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/1ea0fac3-1acc-41d6-a140-3aaaa439659c - 200 null application/json; charset=utf-8 113.6147ms
2025-05-26 07:30:17.571 +00:00 [INF] Application is shutting down...
2025-05-26 07:30:33.157 +00:00 [INF] Executed DbCommand (79ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 07:30:34.028 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-05-26 07:30:34.067 +00:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-26 07:30:34.072 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-05-26 07:30:34.075 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 07:30:34.090 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-05-26 07:30:34.173 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
2025-05-26 07:30:34.177 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-26 07:30:34.273 +00:00 [INF] Creating key {3194daa2-12db-433b-bb42-9201ac6328d5} with creation date 2025-05-26 07:30:34Z, activation date 2025-05-26 07:30:34Z, and expiration date 2025-08-24 07:30:34Z.
2025-05-26 07:30:34.289 +00:00 [WRN] No XML encryptor configured. Key {3194daa2-12db-433b-bb42-9201ac6328d5} may be persisted to storage in unencrypted form.
2025-05-26 07:30:34.297 +00:00 [INF] Writing data to file '/root/.aspnet/DataProtection-Keys/key-3194daa2-12db-433b-bb42-9201ac6328d5.xml'.
2025-05-26 07:30:34.410 +00:00 [INF] Now listening on: http://[::]:8080
2025-05-26 07:30:34.416 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-26 07:30:34.418 +00:00 [INF] Hosting environment: Development
2025-05-26 07:30:34.420 +00:00 [INF] Content root path: /app
2025-05-26 07:36:08.097 +00:00 [INF] Application is shutting down...
2025-05-26 07:38:26.943 +00:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 07:38:27.655 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-05-26 07:38:27.682 +00:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-26 07:38:27.687 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-05-26 07:38:27.692 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 07:38:27.708 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-05-26 07:38:27.761 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
2025-05-26 07:38:27.765 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-26 07:38:27.815 +00:00 [INF] Creating key {0b7ef4a9-884a-4bc9-8bee-4a1ef2192aa7} with creation date 2025-05-26 07:38:27Z, activation date 2025-05-26 07:38:27Z, and expiration date 2025-08-24 07:38:27Z.
2025-05-26 07:38:27.838 +00:00 [WRN] No XML encryptor configured. Key {0b7ef4a9-884a-4bc9-8bee-4a1ef2192aa7} may be persisted to storage in unencrypted form.
2025-05-26 07:38:27.855 +00:00 [INF] Writing data to file '/root/.aspnet/DataProtection-Keys/key-0b7ef4a9-884a-4bc9-8bee-4a1ef2192aa7.xml'.
2025-05-26 07:38:27.971 +00:00 [INF] Now listening on: http://[::]:8080
2025-05-26 07:38:27.980 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-26 07:38:27.982 +00:00 [INF] Hosting environment: Development
2025-05-26 07:38:27.983 +00:00 [INF] Content root path: /app
2025-05-26 07:42:14.614 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 07:42:14.686 +00:00 [WRN] Failed to determine the https port for redirect.
2025-05-26 07:42:14.690 +00:00 [INF] CORS policy execution successful.
2025-05-26 07:42:14.705 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 94.3767ms
2025-05-26 07:42:14.718 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 07:42:14.756 +00:00 [INF] CORS policy execution successful.
2025-05-26 07:42:14.938 +00:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '05/26/2025 07:17:56', Current time (UTC): '05/26/2025 07:42:14'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-26 07:42:14.975 +00:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '05/26/2025 07:17:56', Current time (UTC): '05/26/2025 07:42:14'.
2025-05-26 07:42:14.992 +00:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-05-26 07:42:15.009 +00:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-26 07:42:15.014 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 401 0 null 295.9881ms
2025-05-26 07:42:41.195 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 07:42:41.204 +00:00 [INF] CORS policy execution successful.
2025-05-26 07:42:41.209 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 14.1604ms
2025-05-26 07:42:41.219 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 07:42:41.226 +00:00 [INF] CORS policy execution successful.
2025-05-26 07:42:41.265 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 07:42:41.345 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 07:42:43.132 +00:00 [INF] Executed DbCommand (75ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 07:42:43.335 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 07:42:43.556 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 2202.3597ms
2025-05-26 07:42:43.559 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 07:42:43.572 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 2353.642ms
2025-05-26 07:42:59.180 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 07:42:59.182 +00:00 [INF] CORS policy execution successful.
2025-05-26 07:42:59.185 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 4.8767ms
2025-05-26 07:42:59.190 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5001/api/appointments - application/json 115
2025-05-26 07:42:59.192 +00:00 [INF] CORS policy execution successful.
2025-05-26 07:42:59.200 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment)'
2025-05-26 07:42:59.227 +00:00 [INF] Route matched with {action = "Create", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(ServiceAppointment.Models.Requests.AppointmentRequest) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 07:42:59.484 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__branchId_0='?', @__normalizedTime_Year_1='?' (DbType = Int32), @__normalizedTime_Month_2='?' (DbType = Int32), @__normalizedTime_Day_3='?' (DbType = Int32), @__normalizedTime_Hour_4='?' (DbType = Int32), @__normalizedTime_Minute_5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Appointments" AS a
    WHERE a."BranchId" = @__branchId_0 AND date_part('year', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Year_1 AND date_part('month', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Month_2 AND date_part('day', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Day_3 AND date_part('hour', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Hour_4 AND date_part('minute', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Minute_5)
2025-05-26 07:42:59.680 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?', @p1='?', @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Appointments" ("BranchId", "CustomerId", "ScheduledTime", "Status")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2025-05-26 07:42:59.735 +00:00 [INF] 🧹 Cache invalidated after create
2025-05-26 07:42:59.740 +00:00 [INF] Executing CreatedAtActionResult, writing value of type 'ServiceAppointment.Models.Appointment'.
2025-05-26 07:42:59.772 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment) in 543.7482ms
2025-05-26 07:42:59.775 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment)'
2025-05-26 07:42:59.777 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5001/api/appointments - 201 null application/json; charset=utf-8 586.7056ms
2025-05-26 07:42:59.784 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 07:42:59.787 +00:00 [INF] CORS policy execution successful.
2025-05-26 07:42:59.790 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 5.351ms
2025-05-26 07:42:59.790 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/ec1d72ff-c596-4e68-9eee-1d20648389a4 - null null
2025-05-26 07:42:59.793 +00:00 [INF] CORS policy execution successful.
2025-05-26 07:42:59.795 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 07:42:59.798 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/ec1d72ff-c596-4e68-9eee-1d20648389a4 - 204 null null 7.6055ms
2025-05-26 07:42:59.801 +00:00 [INF] CORS policy execution successful.
2025-05-26 07:42:59.804 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 07:42:59.804 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/ec1d72ff-c596-4e68-9eee-1d20648389a4 - null null
2025-05-26 07:42:59.806 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 07:42:59.807 +00:00 [INF] CORS policy execution successful.
2025-05-26 07:42:59.810 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 07:42:59.821 +00:00 [INF] Route matched with {action = "GetByBranch", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetByBranch(System.String) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 07:42:59.831 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 07:42:59.834 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 07:42:59.836 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 28.7608ms
2025-05-26 07:42:59.838 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 07:42:59.843 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 47.2854ms
2025-05-26 07:42:59.868 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__branchId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."BranchId" = @__branchId_0 AND a."Status" = 'Scheduled'
2025-05-26 07:42:59.876 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 07:42:59.878 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment) in 55.1273ms
2025-05-26 07:42:59.881 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 07:42:59.883 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/ec1d72ff-c596-4e68-9eee-1d20648389a4 - 200 null application/json; charset=utf-8 79.0798ms
2025-05-26 08:00:04.468 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 08:00:04.476 +00:00 [INF] CORS policy execution successful.
2025-05-26 08:00:04.480 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 14.6143ms
2025-05-26 08:00:04.485 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 08:00:04.493 +00:00 [INF] CORS policy execution successful.
2025-05-26 08:00:04.497 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 08:00:04.500 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 08:00:04.585 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 08:00:04.588 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 08:00:04.592 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 89.0411ms
2025-05-26 08:00:04.595 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 08:00:04.598 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 112.3418ms
2025-05-26 08:00:16.021 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 08:00:16.066 +00:00 [INF] CORS policy execution successful.
2025-05-26 08:00:16.108 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 87.0926ms
2025-05-26 08:00:34.907 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 08:00:34.925 +00:00 [INF] CORS policy execution successful.
2025-05-26 08:00:34.932 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 25.4725ms
2025-05-26 08:00:34.940 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments - null null
2025-05-26 08:00:34.943 +00:00 [INF] CORS policy execution successful.
2025-05-26 08:00:34.949 +00:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-05-26 08:00:34.953 +00:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-05-26 08:00:34.956 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments - 405 0 null 16.7062ms
2025-05-26 08:00:43.813 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 08:00:43.833 +00:00 [INF] CORS policy execution successful.
2025-05-26 08:00:43.852 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 39.0041ms
2025-05-26 08:00:43.862 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 08:00:43.864 +00:00 [INF] CORS policy execution successful.
2025-05-26 08:00:43.867 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 08:00:43.869 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 08:00:43.877 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 08:00:43.879 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 08:00:43.882 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 11.0111ms
2025-05-26 08:00:43.884 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 08:00:43.888 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 25.5211ms
2025-05-26 08:01:21.662 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 08:01:21.664 +00:00 [INF] CORS policy execution successful.
2025-05-26 08:01:21.667 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 5.1483ms
2025-05-26 08:01:36.381 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 08:01:36.384 +00:00 [INF] CORS policy execution successful.
2025-05-26 08:01:36.387 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 6.3273ms
2025-05-26 08:01:36.397 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 08:01:36.399 +00:00 [INF] CORS policy execution successful.
2025-05-26 08:01:36.403 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 08:01:36.404 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 08:01:36.413 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 08:01:36.416 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 08:01:36.418 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 12.3041ms
2025-05-26 08:01:36.420 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 08:01:36.423 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 26.5346ms
2025-05-26 08:02:02.330 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 08:02:02.333 +00:00 [INF] CORS policy execution successful.
2025-05-26 08:02:02.348 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 18.6221ms
2025-05-26 08:02:02.364 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 08:02:02.368 +00:00 [INF] CORS policy execution successful.
2025-05-26 08:02:02.372 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 08:02:02.380 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 08:02:02.388 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 08:02:02.390 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 08:02:02.393 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 10.6883ms
2025-05-26 08:02:02.394 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 08:02:02.396 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 32.0723ms
2025-05-26 08:02:29.178 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 08:02:29.180 +00:00 [INF] CORS policy execution successful.
2025-05-26 08:02:29.182 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 3.7843ms
2025-05-26 08:02:29.187 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5001/api/appointments - application/json 115
2025-05-26 08:02:29.193 +00:00 [INF] CORS policy execution successful.
2025-05-26 08:02:29.196 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment)'
2025-05-26 08:02:29.199 +00:00 [INF] Route matched with {action = "Create", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(ServiceAppointment.Models.Requests.AppointmentRequest) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 08:02:29.212 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__branchId_0='?', @__normalizedTime_Year_1='?' (DbType = Int32), @__normalizedTime_Month_2='?' (DbType = Int32), @__normalizedTime_Day_3='?' (DbType = Int32), @__normalizedTime_Hour_4='?' (DbType = Int32), @__normalizedTime_Minute_5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Appointments" AS a
    WHERE a."BranchId" = @__branchId_0 AND date_part('year', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Year_1 AND date_part('month', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Month_2 AND date_part('day', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Day_3 AND date_part('hour', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Hour_4 AND date_part('minute', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Minute_5)
2025-05-26 08:02:29.221 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?', @p1='?', @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Appointments" ("BranchId", "CustomerId", "ScheduledTime", "Status")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2025-05-26 08:02:29.225 +00:00 [INF] 🧹 Cache invalidated after create
2025-05-26 08:02:29.227 +00:00 [INF] Executing CreatedAtActionResult, writing value of type 'ServiceAppointment.Models.Appointment'.
2025-05-26 08:02:29.230 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment) in 29.2099ms
2025-05-26 08:02:29.231 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment)'
2025-05-26 08:02:29.234 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5001/api/appointments - 201 null application/json; charset=utf-8 47.0735ms
2025-05-26 08:02:29.240 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 08:02:29.242 +00:00 [INF] CORS policy execution successful.
2025-05-26 08:02:29.245 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 4.7883ms
2025-05-26 08:02:29.248 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - null null
2025-05-26 08:02:29.250 +00:00 [INF] CORS policy execution successful.
2025-05-26 08:02:29.251 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 08:02:29.253 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - 204 null null 4.8865ms
2025-05-26 08:02:29.254 +00:00 [INF] CORS policy execution successful.
2025-05-26 08:02:29.258 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 08:02:29.259 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - null null
2025-05-26 08:02:29.260 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 08:02:29.261 +00:00 [INF] CORS policy execution successful.
2025-05-26 08:02:29.264 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 08:02:29.265 +00:00 [INF] Route matched with {action = "GetByBranch", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetByBranch(System.String) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 08:02:29.267 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 08:02:29.269 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 08:02:29.270 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 8.3429ms
2025-05-26 08:02:29.271 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 08:02:29.272 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__branchId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."BranchId" = @__branchId_0 AND a."Status" = 'Scheduled'
2025-05-26 08:02:29.272 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 21.5863ms
2025-05-26 08:02:29.276 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 08:02:29.279 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment) in 11.5536ms
2025-05-26 08:02:29.280 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 08:02:29.281 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - 200 null application/json; charset=utf-8 21.5203ms
2025-05-26 08:07:23.763 +00:00 [INF] Application is shutting down...
2025-05-26 08:09:34.885 +00:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 08:09:35.930 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-05-26 08:09:35.968 +00:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-26 08:09:35.973 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-05-26 08:09:35.977 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 08:09:36.000 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-05-26 08:09:36.165 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
2025-05-26 08:09:36.167 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-26 08:09:36.268 +00:00 [INF] Creating key {e48716f4-7485-45e1-86c6-bf9cfa923d81} with creation date 2025-05-26 08:09:36Z, activation date 2025-05-26 08:09:36Z, and expiration date 2025-08-24 08:09:36Z.
2025-05-26 08:09:36.284 +00:00 [WRN] No XML encryptor configured. Key {e48716f4-7485-45e1-86c6-bf9cfa923d81} may be persisted to storage in unencrypted form.
2025-05-26 08:09:36.295 +00:00 [INF] Writing data to file '/root/.aspnet/DataProtection-Keys/key-e48716f4-7485-45e1-86c6-bf9cfa923d81.xml'.
2025-05-26 08:09:36.503 +00:00 [INF] Now listening on: http://[::]:8080
2025-05-26 08:09:36.512 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-26 08:09:36.514 +00:00 [INF] Hosting environment: Development
2025-05-26 08:09:36.516 +00:00 [INF] Content root path: /app
2025-05-26 08:10:07.347 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 08:10:07.540 +00:00 [WRN] Failed to determine the https port for redirect.
2025-05-26 08:10:07.550 +00:00 [INF] CORS policy execution successful.
2025-05-26 08:10:07.567 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 235.2343ms
2025-05-26 08:10:07.579 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 08:10:07.599 +00:00 [INF] CORS policy execution successful.
2025-05-26 08:10:07.889 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 08:10:07.995 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 08:10:09.683 +00:00 [INF] Executed DbCommand (128ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 08:10:09.954 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 08:10:10.268 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 2263.131ms
2025-05-26 08:10:10.271 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 08:10:10.292 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 2713.396ms
2025-05-26 08:10:17.126 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 08:10:17.132 +00:00 [INF] CORS policy execution successful.
2025-05-26 08:10:17.134 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 7.172ms
2025-05-26 08:10:36.002 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 08:10:36.008 +00:00 [INF] CORS policy execution successful.
2025-05-26 08:10:36.015 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 13.6773ms
2025-05-26 08:10:36.028 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 08:10:36.034 +00:00 [INF] CORS policy execution successful.
2025-05-26 08:10:36.061 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 08:10:36.064 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 08:10:36.368 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 08:10:36.380 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 08:10:36.393 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 327.5873ms
2025-05-26 08:10:36.397 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 08:10:36.401 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 373.3826ms
2025-05-26 08:10:58.153 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 08:10:58.156 +00:00 [INF] CORS policy execution successful.
2025-05-26 08:10:58.159 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 6.3851ms
2025-05-26 08:10:58.164 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5001/api/appointments - application/json 115
2025-05-26 08:10:58.166 +00:00 [INF] CORS policy execution successful.
2025-05-26 08:10:58.176 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment)'
2025-05-26 08:10:58.196 +00:00 [INF] Route matched with {action = "Create", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(ServiceAppointment.Models.Requests.AppointmentRequest) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 08:10:58.354 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__branchId_0='?', @__normalizedTime_Year_1='?' (DbType = Int32), @__normalizedTime_Month_2='?' (DbType = Int32), @__normalizedTime_Day_3='?' (DbType = Int32), @__normalizedTime_Hour_4='?' (DbType = Int32), @__normalizedTime_Minute_5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Appointments" AS a
    WHERE a."BranchId" = @__branchId_0 AND date_part('year', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Year_1 AND date_part('month', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Month_2 AND date_part('day', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Day_3 AND date_part('hour', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Hour_4 AND date_part('minute', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Minute_5)
2025-05-26 08:10:58.537 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?', @p1='?', @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Appointments" ("BranchId", "CustomerId", "ScheduledTime", "Status")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2025-05-26 08:10:58.590 +00:00 [INF] 🧹 Cache invalidated after create
2025-05-26 08:10:58.594 +00:00 [INF] Executing CreatedAtActionResult, writing value of type 'ServiceAppointment.Models.Appointment'.
2025-05-26 08:10:58.623 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment) in 426.1256ms
2025-05-26 08:10:58.624 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment)'
2025-05-26 08:10:58.626 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5001/api/appointments - 201 null application/json; charset=utf-8 461.3863ms
2025-05-26 08:10:58.632 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 08:10:58.634 +00:00 [INF] CORS policy execution successful.
2025-05-26 08:10:58.637 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/ec1d72ff-c596-4e68-9eee-1d20648389a4 - null null
2025-05-26 08:10:58.640 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 7.8998ms
2025-05-26 08:10:58.640 +00:00 [INF] CORS policy execution successful.
2025-05-26 08:10:58.643 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/ec1d72ff-c596-4e68-9eee-1d20648389a4 - 204 null null 6.4286ms
2025-05-26 08:10:58.645 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 08:10:58.649 +00:00 [INF] CORS policy execution successful.
2025-05-26 08:10:58.651 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/ec1d72ff-c596-4e68-9eee-1d20648389a4 - null null
2025-05-26 08:10:58.652 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 08:10:58.652 +00:00 [INF] CORS policy execution successful.
2025-05-26 08:10:58.653 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 08:10:58.655 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 08:10:58.662 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 08:10:58.664 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 08:10:58.666 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 9.659ms
2025-05-26 08:10:58.667 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 08:10:58.669 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 24.2931ms
2025-05-26 08:10:58.676 +00:00 [INF] Route matched with {action = "GetByBranch", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetByBranch(System.String) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 08:10:58.705 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__branchId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."BranchId" = @__branchId_0 AND a."Status" = 'Scheduled'
2025-05-26 08:10:58.711 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 08:10:58.713 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment) in 35.1358ms
2025-05-26 08:10:58.714 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 08:10:58.716 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/ec1d72ff-c596-4e68-9eee-1d20648389a4 - 200 null application/json; charset=utf-8 65.4739ms
2025-05-26 08:11:55.916 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 08:11:55.918 +00:00 [INF] CORS policy execution successful.
2025-05-26 08:11:55.923 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 6.5743ms
2025-05-26 08:11:55.930 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5001/api/appointments - application/json 115
2025-05-26 08:11:55.932 +00:00 [INF] CORS policy execution successful.
2025-05-26 08:11:55.935 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment)'
2025-05-26 08:11:55.938 +00:00 [INF] Route matched with {action = "Create", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(ServiceAppointment.Models.Requests.AppointmentRequest) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 08:11:55.960 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__branchId_0='?', @__normalizedTime_Year_1='?' (DbType = Int32), @__normalizedTime_Month_2='?' (DbType = Int32), @__normalizedTime_Day_3='?' (DbType = Int32), @__normalizedTime_Hour_4='?' (DbType = Int32), @__normalizedTime_Minute_5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Appointments" AS a
    WHERE a."BranchId" = @__branchId_0 AND date_part('year', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Year_1 AND date_part('month', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Month_2 AND date_part('day', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Day_3 AND date_part('hour', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Hour_4 AND date_part('minute', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Minute_5)
2025-05-26 08:11:55.977 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?', @p1='?', @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Appointments" ("BranchId", "CustomerId", "ScheduledTime", "Status")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2025-05-26 08:11:55.984 +00:00 [INF] 🧹 Cache invalidated after create
2025-05-26 08:11:55.991 +00:00 [INF] Executing CreatedAtActionResult, writing value of type 'ServiceAppointment.Models.Appointment'.
2025-05-26 08:11:55.996 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment) in 54.3915ms
2025-05-26 08:11:55.998 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment)'
2025-05-26 08:11:56.004 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5001/api/appointments - 201 null application/json; charset=utf-8 73.7461ms
2025-05-26 08:11:56.017 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 08:11:56.021 +00:00 [INF] CORS policy execution successful.
2025-05-26 08:11:56.031 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 13.8706ms
2025-05-26 08:11:56.034 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/ec1d72ff-c596-4e68-9eee-1d20648389a4 - null null
2025-05-26 08:11:56.040 +00:00 [INF] CORS policy execution successful.
2025-05-26 08:11:56.041 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 08:11:56.043 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/ec1d72ff-c596-4e68-9eee-1d20648389a4 - 204 null null 9.4592ms
2025-05-26 08:11:56.048 +00:00 [INF] CORS policy execution successful.
2025-05-26 08:11:56.051 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/ec1d72ff-c596-4e68-9eee-1d20648389a4 - null null
2025-05-26 08:11:56.054 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 08:11:56.058 +00:00 [INF] CORS policy execution successful.
2025-05-26 08:11:56.060 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 08:11:56.063 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 08:11:56.065 +00:00 [INF] Route matched with {action = "GetByBranch", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetByBranch(System.String) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 08:11:56.069 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 08:11:56.078 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 08:11:56.081 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 16.8036ms
2025-05-26 08:11:56.084 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 08:11:56.090 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 48.6343ms
2025-05-26 08:11:56.146 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__branchId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."BranchId" = @__branchId_0 AND a."Status" = 'Scheduled'
2025-05-26 08:11:56.148 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 08:11:56.150 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment) in 77.1641ms
2025-05-26 08:11:56.153 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 08:11:56.156 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/ec1d72ff-c596-4e68-9eee-1d20648389a4 - 200 null application/json; charset=utf-8 105.2066ms
2025-05-26 08:23:52.562 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 08:23:52.571 +00:00 [INF] CORS policy execution successful.
2025-05-26 08:23:52.576 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 13.9702ms
2025-05-26 08:23:52.588 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5001/api/appointments - application/json 115
2025-05-26 08:23:52.591 +00:00 [INF] CORS policy execution successful.
2025-05-26 08:23:52.597 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment)'
2025-05-26 08:23:52.599 +00:00 [INF] Route matched with {action = "Create", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(ServiceAppointment.Models.Requests.AppointmentRequest) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 08:23:52.761 +00:00 [INF] Executed DbCommand (32ms) [Parameters=[@__branchId_0='?', @__normalizedTime_Year_1='?' (DbType = Int32), @__normalizedTime_Month_2='?' (DbType = Int32), @__normalizedTime_Day_3='?' (DbType = Int32), @__normalizedTime_Hour_4='?' (DbType = Int32), @__normalizedTime_Minute_5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Appointments" AS a
    WHERE a."BranchId" = @__branchId_0 AND date_part('year', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Year_1 AND date_part('month', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Month_2 AND date_part('day', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Day_3 AND date_part('hour', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Hour_4 AND date_part('minute', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Minute_5)
2025-05-26 08:23:52.779 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?', @p1='?', @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Appointments" ("BranchId", "CustomerId", "ScheduledTime", "Status")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2025-05-26 08:23:52.782 +00:00 [INF] 🧹 Cache invalidated after create
2025-05-26 08:23:52.785 +00:00 [INF] Executing CreatedAtActionResult, writing value of type 'ServiceAppointment.Models.Appointment'.
2025-05-26 08:23:52.788 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment) in 184.773ms
2025-05-26 08:23:52.789 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment)'
2025-05-26 08:23:52.798 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5001/api/appointments - 201 null application/json; charset=utf-8 209.2279ms
2025-05-26 08:23:52.829 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 08:23:52.832 +00:00 [INF] CORS policy execution successful.
2025-05-26 08:23:52.841 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 12.2615ms
2025-05-26 08:23:52.845 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/ec1d72ff-c596-4e68-9eee-1d20648389a4 - null null
2025-05-26 08:23:52.847 +00:00 [INF] CORS policy execution successful.
2025-05-26 08:23:52.849 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/ec1d72ff-c596-4e68-9eee-1d20648389a4 - 204 null null 3.8764ms
2025-05-26 08:23:52.875 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 08:23:52.876 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/ec1d72ff-c596-4e68-9eee-1d20648389a4 - null null
2025-05-26 08:23:52.886 +00:00 [INF] CORS policy execution successful.
2025-05-26 08:23:52.897 +00:00 [INF] CORS policy execution successful.
2025-05-26 08:23:52.910 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 08:23:52.913 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 08:23:52.920 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 08:23:52.923 +00:00 [INF] Route matched with {action = "GetByBranch", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetByBranch(System.String) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 08:23:52.930 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 08:23:52.944 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 08:23:52.952 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 26.5889ms
2025-05-26 08:23:52.956 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 08:23:52.958 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 82.8361ms
2025-05-26 08:23:52.969 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__branchId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."BranchId" = @__branchId_0 AND a."Status" = 'Scheduled'
2025-05-26 08:23:52.974 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 08:23:52.976 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment) in 39.2853ms
2025-05-26 08:23:52.978 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 08:23:52.979 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/ec1d72ff-c596-4e68-9eee-1d20648389a4 - 200 null application/json; charset=utf-8 102.9035ms
2025-05-26 08:25:31.607 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 08:25:31.609 +00:00 [INF] CORS policy execution successful.
2025-05-26 08:25:31.611 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 3.2445ms
2025-05-26 08:25:31.618 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5001/api/appointments - application/json 115
2025-05-26 08:25:31.622 +00:00 [INF] CORS policy execution successful.
2025-05-26 08:25:31.625 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment)'
2025-05-26 08:25:31.628 +00:00 [INF] Route matched with {action = "Create", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(ServiceAppointment.Models.Requests.AppointmentRequest) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 08:25:31.639 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__branchId_0='?', @__normalizedTime_Year_1='?' (DbType = Int32), @__normalizedTime_Month_2='?' (DbType = Int32), @__normalizedTime_Day_3='?' (DbType = Int32), @__normalizedTime_Hour_4='?' (DbType = Int32), @__normalizedTime_Minute_5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Appointments" AS a
    WHERE a."BranchId" = @__branchId_0 AND date_part('year', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Year_1 AND date_part('month', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Month_2 AND date_part('day', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Day_3 AND date_part('hour', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Hour_4 AND date_part('minute', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Minute_5)
2025-05-26 08:25:31.647 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?', @p1='?', @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Appointments" ("BranchId", "CustomerId", "ScheduledTime", "Status")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2025-05-26 08:25:31.650 +00:00 [INF] 🧹 Cache invalidated after create
2025-05-26 08:25:31.652 +00:00 [INF] Executing CreatedAtActionResult, writing value of type 'ServiceAppointment.Models.Appointment'.
2025-05-26 08:25:31.656 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment) in 24.1981ms
2025-05-26 08:25:31.658 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment)'
2025-05-26 08:25:31.660 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5001/api/appointments - 201 null application/json; charset=utf-8 42.2421ms
2025-05-26 08:25:31.672 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 08:25:31.673 +00:00 [INF] CORS policy execution successful.
2025-05-26 08:25:31.675 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 3.5071ms
2025-05-26 08:25:31.679 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/ec1d72ff-c596-4e68-9eee-1d20648389a4 - null null
2025-05-26 08:25:31.681 +00:00 [INF] CORS policy execution successful.
2025-05-26 08:25:31.682 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 08:25:31.684 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/ec1d72ff-c596-4e68-9eee-1d20648389a4 - 204 null null 4.4588ms
2025-05-26 08:25:31.688 +00:00 [INF] CORS policy execution successful.
2025-05-26 08:25:31.690 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/ec1d72ff-c596-4e68-9eee-1d20648389a4 - null null
2025-05-26 08:25:31.694 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 08:25:31.698 +00:00 [INF] CORS policy execution successful.
2025-05-26 08:25:31.699 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 08:25:31.702 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 08:25:31.705 +00:00 [INF] Route matched with {action = "GetByBranch", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetByBranch(System.String) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 08:25:31.708 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 08:25:31.711 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 08:25:31.712 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__branchId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."BranchId" = @__branchId_0 AND a."Status" = 'Scheduled'
2025-05-26 08:25:31.712 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 9.1623ms
2025-05-26 08:25:31.715 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 08:25:31.716 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 08:25:31.719 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment) in 12.5705ms
2025-05-26 08:25:31.720 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 38.489ms
2025-05-26 08:25:31.724 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 08:25:31.727 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/ec1d72ff-c596-4e68-9eee-1d20648389a4 - 200 null application/json; charset=utf-8 36.4338ms
2025-05-26 09:38:23.116 +00:00 [INF] Application is shutting down...
2025-05-26 09:39:00.948 +00:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 09:39:01.609 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-05-26 09:39:01.634 +00:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-26 09:39:01.641 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-05-26 09:39:01.644 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 09:39:01.658 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-05-26 09:39:01.715 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
2025-05-26 09:39:01.720 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-26 09:39:01.765 +00:00 [INF] Creating key {e0eb7002-6e4b-4ce9-9b90-5af15f696fcb} with creation date 2025-05-26 09:39:01Z, activation date 2025-05-26 09:39:01Z, and expiration date 2025-08-24 09:39:01Z.
2025-05-26 09:39:01.778 +00:00 [WRN] No XML encryptor configured. Key {e0eb7002-6e4b-4ce9-9b90-5af15f696fcb} may be persisted to storage in unencrypted form.
2025-05-26 09:39:01.789 +00:00 [INF] Writing data to file '/root/.aspnet/DataProtection-Keys/key-e0eb7002-6e4b-4ce9-9b90-5af15f696fcb.xml'.
2025-05-26 09:39:01.882 +00:00 [INF] Now listening on: http://[::]:8080
2025-05-26 09:39:01.890 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-26 09:39:01.892 +00:00 [INF] Hosting environment: Development
2025-05-26 09:39:01.893 +00:00 [INF] Content root path: /app
2025-05-26 09:45:31.565 +00:00 [INF] Application is shutting down...
2025-05-26 10:26:57.009 +00:00 [INF] Executed DbCommand (111ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 10:26:58.450 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-05-26 10:26:58.494 +00:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-26 10:26:58.501 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-05-26 10:26:58.510 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 10:26:58.535 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-05-26 10:26:58.669 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
2025-05-26 10:26:58.689 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-26 10:26:58.806 +00:00 [INF] Creating key {83777689-7dca-4376-b3ba-5adb22a31b0c} with creation date 2025-05-26 10:26:58Z, activation date 2025-05-26 10:26:58Z, and expiration date 2025-08-24 10:26:58Z.
2025-05-26 10:26:58.872 +00:00 [WRN] No XML encryptor configured. Key {83777689-7dca-4376-b3ba-5adb22a31b0c} may be persisted to storage in unencrypted form.
2025-05-26 10:26:58.918 +00:00 [INF] Writing data to file '/root/.aspnet/DataProtection-Keys/key-83777689-7dca-4376-b3ba-5adb22a31b0c.xml'.
2025-05-26 10:26:59.299 +00:00 [INF] Now listening on: http://[::]:8080
2025-05-26 10:26:59.307 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-26 10:26:59.323 +00:00 [INF] Hosting environment: Development
2025-05-26 10:26:59.326 +00:00 [INF] Content root path: /app
2025-05-26 10:27:25.194 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/swagger/index.html - null null
2025-05-26 10:27:25.579 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 390.4383ms
2025-05-26 10:27:27.022 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/swagger/v1/swagger.json - null null
2025-05-26 10:27:27.638 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 615.4077ms
2025-05-26 10:39:29.380 +00:00 [INF] Application is shutting down...
2025-05-26 10:40:54.822 +00:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 10:40:55.453 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-05-26 10:40:55.474 +00:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-26 10:40:55.477 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-05-26 10:40:55.480 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 10:40:55.494 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-05-26 10:40:55.538 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
2025-05-26 10:40:55.540 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-26 10:40:55.662 +00:00 [INF] Now listening on: http://[::]:8080
2025-05-26 10:40:55.668 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-26 10:40:55.670 +00:00 [INF] Hosting environment: Development
2025-05-26 10:40:55.671 +00:00 [INF] Content root path: /app
2025-05-26 11:14:38.835 +00:00 [INF] Application is shutting down...
2025-05-26 11:14:46.515 +00:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 11:14:47.220 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-05-26 11:14:47.257 +00:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-26 11:14:47.262 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-05-26 11:14:47.266 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 11:14:47.285 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-05-26 11:14:47.359 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
2025-05-26 11:14:47.362 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-26 11:14:47.440 +00:00 [INF] Creating key {a62c24d8-227f-4d5f-90aa-add69e5dfaa4} with creation date 2025-05-26 11:14:47Z, activation date 2025-05-26 11:14:47Z, and expiration date 2025-08-24 11:14:47Z.
2025-05-26 11:14:47.462 +00:00 [WRN] No XML encryptor configured. Key {a62c24d8-227f-4d5f-90aa-add69e5dfaa4} may be persisted to storage in unencrypted form.
2025-05-26 11:14:47.484 +00:00 [INF] Writing data to file '/root/.aspnet/DataProtection-Keys/key-a62c24d8-227f-4d5f-90aa-add69e5dfaa4.xml'.
2025-05-26 11:14:47.674 +00:00 [INF] Now listening on: http://[::]:8080
2025-05-26 11:14:47.683 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-26 11:14:47.686 +00:00 [INF] Hosting environment: Development
2025-05-26 11:14:47.687 +00:00 [INF] Content root path: /app
2025-05-26 11:19:55.978 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 11:19:56.215 +00:00 [WRN] Failed to determine the https port for redirect.
2025-05-26 11:19:56.233 +00:00 [INF] CORS policy execution successful.
2025-05-26 11:19:56.280 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 314.8813ms
2025-05-26 11:20:15.664 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 11:20:15.673 +00:00 [INF] CORS policy execution successful.
2025-05-26 11:20:15.677 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 12.6946ms
2025-05-26 11:20:15.682 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 11:20:15.695 +00:00 [INF] CORS policy execution successful.
2025-05-26 11:20:15.845 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 11:20:15.916 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 11:20:16.744 +00:00 [INF] Executed DbCommand (37ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 11:20:16.922 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 11:20:17.091 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 1166.7184ms
2025-05-26 11:20:17.094 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 11:20:17.109 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 1427.2706ms
2025-05-26 11:20:40.975 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 11:20:40.976 +00:00 [INF] CORS policy execution successful.
2025-05-26 11:20:40.979 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 4.257ms
2025-05-26 11:20:40.983 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5001/api/appointments - application/json 115
2025-05-26 11:20:40.986 +00:00 [INF] CORS policy execution successful.
2025-05-26 11:20:40.995 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment)'
2025-05-26 11:20:41.017 +00:00 [INF] Route matched with {action = "Create", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(ServiceAppointment.Models.Requests.AppointmentRequest) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 11:20:41.351 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__branchId_0='?', @__normalizedTime_Year_1='?' (DbType = Int32), @__normalizedTime_Month_2='?' (DbType = Int32), @__normalizedTime_Day_3='?' (DbType = Int32), @__normalizedTime_Hour_4='?' (DbType = Int32), @__normalizedTime_Minute_5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Appointments" AS a
    WHERE a."BranchId" = @__branchId_0 AND date_part('year', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Year_1 AND date_part('month', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Month_2 AND date_part('day', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Day_3 AND date_part('hour', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Hour_4 AND date_part('minute', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Minute_5)
2025-05-26 11:20:41.604 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[@p0='?', @p1='?', @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Appointments" ("BranchId", "CustomerId", "ScheduledTime", "Status")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2025-05-26 11:20:41.660 +00:00 [INF] 🧹 Cache invalidated after create
2025-05-26 11:20:41.665 +00:00 [INF] Executing CreatedAtActionResult, writing value of type 'ServiceAppointment.Models.Appointment'.
2025-05-26 11:20:41.698 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment) in 679.1863ms
2025-05-26 11:20:41.699 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment)'
2025-05-26 11:20:41.702 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5001/api/appointments - 201 null application/json; charset=utf-8 718.9157ms
2025-05-26 11:20:41.710 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 11:20:41.712 +00:00 [INF] CORS policy execution successful.
2025-05-26 11:20:41.715 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 4.7873ms
2025-05-26 11:20:41.718 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - null null
2025-05-26 11:20:41.723 +00:00 [INF] CORS policy execution successful.
2025-05-26 11:20:41.723 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 11:20:41.725 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - 204 null null 7.1706ms
2025-05-26 11:20:41.727 +00:00 [INF] CORS policy execution successful.
2025-05-26 11:20:41.735 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - null null
2025-05-26 11:20:41.737 +00:00 [INF] CORS policy execution successful.
2025-05-26 11:20:41.744 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 11:20:41.744 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 11:20:41.746 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 11:20:41.760 +00:00 [INF] Route matched with {action = "GetByBranch", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetByBranch(System.String) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 11:20:41.772 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 11:20:41.775 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 11:20:41.777 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 27.5744ms
2025-05-26 11:20:41.780 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 11:20:41.782 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 58.6031ms
2025-05-26 11:20:41.797 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__branchId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."BranchId" = @__branchId_0 AND a."Status" = 'Scheduled'
2025-05-26 11:20:41.808 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 11:20:41.811 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment) in 49.3027ms
2025-05-26 11:20:41.812 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 11:20:41.816 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - 200 null application/json; charset=utf-8 81.1491ms
2025-05-26 11:41:40.299 +00:00 [INF] Application is shutting down...
2025-05-26 11:43:36.232 +00:00 [INF] Executed DbCommand (146ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 11:43:38.378 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-05-26 11:43:38.448 +00:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-26 11:43:38.464 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-05-26 11:43:38.479 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 11:43:38.518 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-05-26 11:43:38.689 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
2025-05-26 11:43:38.701 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-26 11:43:38.834 +00:00 [INF] Creating key {f404efb4-f493-4672-8157-7be798c39b75} with creation date 2025-05-26 11:43:38Z, activation date 2025-05-26 11:43:38Z, and expiration date 2025-08-24 11:43:38Z.
2025-05-26 11:43:38.878 +00:00 [WRN] No XML encryptor configured. Key {f404efb4-f493-4672-8157-7be798c39b75} may be persisted to storage in unencrypted form.
2025-05-26 11:43:38.912 +00:00 [INF] Writing data to file '/root/.aspnet/DataProtection-Keys/key-f404efb4-f493-4672-8157-7be798c39b75.xml'.
2025-05-26 11:43:39.224 +00:00 [INF] Now listening on: http://[::]:8080
2025-05-26 11:43:39.235 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-26 11:43:39.247 +00:00 [INF] Hosting environment: Development
2025-05-26 11:43:39.249 +00:00 [INF] Content root path: /app
2025-05-26 11:46:44.427 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 11:46:44.515 +00:00 [WRN] Failed to determine the https port for redirect.
2025-05-26 11:46:44.520 +00:00 [INF] CORS policy execution successful.
2025-05-26 11:46:44.539 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 114.9759ms
2025-05-26 11:46:44.557 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 11:46:44.573 +00:00 [INF] CORS policy execution successful.
2025-05-26 11:46:44.767 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 11:46:44.840 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 11:46:46.037 +00:00 [INF] Executed DbCommand (43ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 11:46:46.201 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 11:46:46.386 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 1537.6637ms
2025-05-26 11:46:46.389 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 11:46:46.407 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 1849.7824ms
2025-05-26 11:46:55.350 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 11:46:55.354 +00:00 [INF] CORS policy execution successful.
2025-05-26 11:46:55.357 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 7.3972ms
2025-05-26 11:46:55.363 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5001/api/appointments - application/json 115
2025-05-26 11:46:55.366 +00:00 [INF] CORS policy execution successful.
2025-05-26 11:46:55.382 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment)'
2025-05-26 11:46:55.421 +00:00 [INF] Route matched with {action = "Create", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(ServiceAppointment.Models.Requests.AppointmentRequest) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 11:46:55.728 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__branchId_0='?', @__normalizedTime_Year_1='?' (DbType = Int32), @__normalizedTime_Month_2='?' (DbType = Int32), @__normalizedTime_Day_3='?' (DbType = Int32), @__normalizedTime_Hour_4='?' (DbType = Int32), @__normalizedTime_Minute_5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Appointments" AS a
    WHERE a."BranchId" = @__branchId_0 AND date_part('year', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Year_1 AND date_part('month', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Month_2 AND date_part('day', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Day_3 AND date_part('hour', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Hour_4 AND date_part('minute', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Minute_5)
2025-05-26 11:46:55.973 +00:00 [INF] Executed DbCommand (34ms) [Parameters=[@p0='?', @p1='?', @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Appointments" ("BranchId", "CustomerId", "ScheduledTime", "Status")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2025-05-26 11:46:56.037 +00:00 [INF] 🧹 Cache invalidated after create
2025-05-26 11:46:56.045 +00:00 [INF] 📤 Trying to connect to RabbitMQ...
2025-05-26 11:46:56.160 +00:00 [INF] ✅ Connected to RabbitMQ
2025-05-26 11:46:56.165 +00:00 [INF] 📤 Declaring queue 'notifications'...
2025-05-26 11:46:56.214 +00:00 [INF] 📤 Attempting to send notification to RabbitMQ...
2025-05-26 11:46:56.222 +00:00 [INF] ✅ Notification sent to RabbitMQ.
2025-05-26 11:46:56.248 +00:00 [INF] Executing CreatedAtActionResult, writing value of type 'ServiceAppointment.Models.Appointment'.
2025-05-26 11:46:56.288 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment) in 865.8037ms
2025-05-26 11:46:56.289 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment)'
2025-05-26 11:46:56.291 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5001/api/appointments - 201 null application/json; charset=utf-8 928.6527ms
2025-05-26 11:46:56.299 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 11:46:56.301 +00:00 [INF] CORS policy execution successful.
2025-05-26 11:46:56.304 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 4.6543ms
2025-05-26 11:46:56.305 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - null null
2025-05-26 11:46:56.308 +00:00 [INF] CORS policy execution successful.
2025-05-26 11:46:56.309 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 11:46:56.311 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - 204 null null 6.6041ms
2025-05-26 11:46:56.317 +00:00 [INF] CORS policy execution successful.
2025-05-26 11:46:56.318 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - null null
2025-05-26 11:46:56.321 +00:00 [INF] CORS policy execution successful.
2025-05-26 11:46:56.328 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 11:46:56.329 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 11:46:56.333 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 11:46:56.346 +00:00 [INF] Route matched with {action = "GetByBranch", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetByBranch(System.String) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 11:46:56.361 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 11:46:56.365 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 11:46:56.369 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 34.2966ms
2025-05-26 11:46:56.374 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 11:46:56.374 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__branchId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."BranchId" = @__branchId_0 AND a."Status" = 'Scheduled'
2025-05-26 11:46:56.376 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 66.0803ms
2025-05-26 11:46:56.387 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 11:46:56.389 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment) in 41.5566ms
2025-05-26 11:46:56.392 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 11:46:56.396 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - 200 null application/json; charset=utf-8 77.3499ms
2025-05-26 11:49:10.085 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 11:49:10.088 +00:00 [INF] CORS policy execution successful.
2025-05-26 11:49:10.089 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 3.9374ms
2025-05-26 11:49:10.094 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5001/api/appointments - application/json 115
2025-05-26 11:49:10.097 +00:00 [INF] CORS policy execution successful.
2025-05-26 11:49:10.100 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment)'
2025-05-26 11:49:10.101 +00:00 [INF] Route matched with {action = "Create", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(ServiceAppointment.Models.Requests.AppointmentRequest) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 11:49:10.153 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__branchId_0='?', @__normalizedTime_Year_1='?' (DbType = Int32), @__normalizedTime_Month_2='?' (DbType = Int32), @__normalizedTime_Day_3='?' (DbType = Int32), @__normalizedTime_Hour_4='?' (DbType = Int32), @__normalizedTime_Minute_5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Appointments" AS a
    WHERE a."BranchId" = @__branchId_0 AND date_part('year', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Year_1 AND date_part('month', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Month_2 AND date_part('day', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Day_3 AND date_part('hour', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Hour_4 AND date_part('minute', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Minute_5)
2025-05-26 11:49:10.166 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?', @p1='?', @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Appointments" ("BranchId", "CustomerId", "ScheduledTime", "Status")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2025-05-26 11:49:10.172 +00:00 [INF] 🧹 Cache invalidated after create
2025-05-26 11:49:10.173 +00:00 [INF] 📤 Trying to connect to RabbitMQ...
2025-05-26 11:49:10.192 +00:00 [INF] ✅ Connected to RabbitMQ
2025-05-26 11:49:10.193 +00:00 [INF] 📤 Declaring queue 'notifications'...
2025-05-26 11:49:10.197 +00:00 [INF] 📤 Attempting to send notification to RabbitMQ...
2025-05-26 11:49:10.198 +00:00 [INF] ✅ Notification sent to RabbitMQ.
2025-05-26 11:49:10.207 +00:00 [INF] Executing CreatedAtActionResult, writing value of type 'ServiceAppointment.Models.Appointment'.
2025-05-26 11:49:10.211 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment) in 108.39ms
2025-05-26 11:49:10.213 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment)'
2025-05-26 11:49:10.216 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5001/api/appointments - 201 null application/json; charset=utf-8 121.8617ms
2025-05-26 11:49:10.222 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 11:49:10.224 +00:00 [INF] CORS policy execution successful.
2025-05-26 11:49:10.227 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 4.1963ms
2025-05-26 11:49:10.227 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - null null
2025-05-26 11:49:10.232 +00:00 [INF] CORS policy execution successful.
2025-05-26 11:49:10.233 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 11:49:10.233 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - 204 null null 6.0624ms
2025-05-26 11:49:10.236 +00:00 [INF] CORS policy execution successful.
2025-05-26 11:49:10.239 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - null null
2025-05-26 11:49:10.240 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 11:49:10.241 +00:00 [INF] CORS policy execution successful.
2025-05-26 11:49:10.242 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 11:49:10.244 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 11:49:10.245 +00:00 [INF] Route matched with {action = "GetByBranch", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetByBranch(System.String) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 11:49:10.251 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 11:49:10.255 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 11:49:10.256 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 12.5237ms
2025-05-26 11:49:10.258 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 11:49:10.260 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 26.9197ms
2025-05-26 11:49:10.288 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__branchId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."BranchId" = @__branchId_0 AND a."Status" = 'Scheduled'
2025-05-26 11:49:10.291 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 11:49:10.294 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment) in 44.7616ms
2025-05-26 11:49:10.299 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 11:49:10.302 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - 200 null application/json; charset=utf-8 62.858ms
2025-05-26 12:01:15.350 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 12:01:15.353 +00:00 [INF] CORS policy execution successful.
2025-05-26 12:01:15.356 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 5.8607ms
2025-05-26 12:01:15.361 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5001/api/appointments - application/json 115
2025-05-26 12:01:15.363 +00:00 [INF] CORS policy execution successful.
2025-05-26 12:01:15.365 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment)'
2025-05-26 12:01:15.366 +00:00 [INF] Route matched with {action = "Create", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(ServiceAppointment.Models.Requests.AppointmentRequest) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 12:01:15.393 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__branchId_0='?', @__normalizedTime_Year_1='?' (DbType = Int32), @__normalizedTime_Month_2='?' (DbType = Int32), @__normalizedTime_Day_3='?' (DbType = Int32), @__normalizedTime_Hour_4='?' (DbType = Int32), @__normalizedTime_Minute_5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Appointments" AS a
    WHERE a."BranchId" = @__branchId_0 AND date_part('year', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Year_1 AND date_part('month', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Month_2 AND date_part('day', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Day_3 AND date_part('hour', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Hour_4 AND date_part('minute', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Minute_5)
2025-05-26 12:01:15.402 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?', @p1='?', @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Appointments" ("BranchId", "CustomerId", "ScheduledTime", "Status")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2025-05-26 12:01:15.405 +00:00 [INF] 🧹 Cache invalidated after create
2025-05-26 12:01:15.406 +00:00 [INF] 📤 Trying to connect to RabbitMQ...
2025-05-26 12:01:15.424 +00:00 [INF] ✅ Connected to RabbitMQ
2025-05-26 12:01:15.425 +00:00 [INF] 📤 Declaring queue 'notifications'...
2025-05-26 12:01:15.428 +00:00 [INF] 📤 Attempting to send notification to RabbitMQ...
2025-05-26 12:01:15.429 +00:00 [INF] ✅ Notification sent to RabbitMQ.
2025-05-26 12:01:15.433 +00:00 [INF] Executing CreatedAtActionResult, writing value of type 'ServiceAppointment.Models.Appointment'.
2025-05-26 12:01:15.436 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment) in 67.6157ms
2025-05-26 12:01:15.438 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment)'
2025-05-26 12:01:15.445 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5001/api/appointments - 201 null application/json; charset=utf-8 83.9669ms
2025-05-26 12:01:15.452 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 12:01:15.453 +00:00 [INF] CORS policy execution successful.
2025-05-26 12:01:15.455 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 2.5365ms
2025-05-26 12:01:15.456 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - null null
2025-05-26 12:01:15.458 +00:00 [INF] CORS policy execution successful.
2025-05-26 12:01:15.460 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - 204 null null 4.4386ms
2025-05-26 12:01:15.465 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 12:01:15.466 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - null null
2025-05-26 12:01:15.467 +00:00 [INF] CORS policy execution successful.
2025-05-26 12:01:15.468 +00:00 [INF] CORS policy execution successful.
2025-05-26 12:01:15.469 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 12:01:15.470 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 12:01:15.470 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 12:01:15.472 +00:00 [INF] Route matched with {action = "GetByBranch", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetByBranch(System.String) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 12:01:15.477 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 12:01:15.480 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 12:01:15.482 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 8.7822ms
2025-05-26 12:01:15.483 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 12:01:15.485 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 19.8488ms
2025-05-26 12:01:15.502 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__branchId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."BranchId" = @__branchId_0 AND a."Status" = 'Scheduled'
2025-05-26 12:01:15.504 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 12:01:15.505 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment) in 31.7183ms
2025-05-26 12:01:15.507 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 12:01:15.509 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - 200 null application/json; charset=utf-8 43.205ms
2025-05-26 12:46:57.564 +00:00 [INF] Application is shutting down...
2025-05-26 12:49:07.493 +00:00 [INF] Executed DbCommand (204ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 12:49:09.367 +00:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-05-26 12:49:09.432 +00:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-26 12:49:09.439 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-05-26 12:49:09.443 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 12:49:09.471 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-05-26 12:49:09.622 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
2025-05-26 12:49:09.636 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-26 12:49:09.777 +00:00 [INF] Creating key {cb8916b5-8a13-45ea-b162-de21eb9ce0ff} with creation date 2025-05-26 12:49:09Z, activation date 2025-05-26 12:49:09Z, and expiration date 2025-08-24 12:49:09Z.
2025-05-26 12:49:09.816 +00:00 [WRN] No XML encryptor configured. Key {cb8916b5-8a13-45ea-b162-de21eb9ce0ff} may be persisted to storage in unencrypted form.
2025-05-26 12:49:09.852 +00:00 [INF] Writing data to file '/root/.aspnet/DataProtection-Keys/key-cb8916b5-8a13-45ea-b162-de21eb9ce0ff.xml'.
2025-05-26 12:49:10.269 +00:00 [INF] Now listening on: http://[::]:8080
2025-05-26 12:49:10.285 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-26 12:49:10.297 +00:00 [INF] Hosting environment: Development
2025-05-26 12:49:10.309 +00:00 [INF] Content root path: /app
2025-05-26 12:52:08.310 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 12:52:08.381 +00:00 [WRN] Failed to determine the https port for redirect.
2025-05-26 12:52:08.388 +00:00 [INF] CORS policy execution successful.
2025-05-26 12:52:08.402 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 95.9491ms
2025-05-26 12:52:08.411 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 12:52:08.431 +00:00 [INF] CORS policy execution successful.
2025-05-26 12:52:08.660 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 12:52:08.732 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 12:52:09.541 +00:00 [INF] Executed DbCommand (33ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 12:52:09.736 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 12:52:09.902 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 1161.596ms
2025-05-26 12:52:09.904 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 12:52:09.921 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 1509.8616ms
2025-05-26 12:52:23.592 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 12:52:23.596 +00:00 [INF] CORS policy execution successful.
2025-05-26 12:52:23.599 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 6.2919ms
2025-05-26 12:52:23.605 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5001/api/appointments - application/json 115
2025-05-26 12:52:23.608 +00:00 [INF] CORS policy execution successful.
2025-05-26 12:52:23.615 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment)'
2025-05-26 12:52:23.638 +00:00 [INF] Route matched with {action = "Create", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(ServiceAppointment.Models.Requests.AppointmentRequest) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 12:52:23.941 +00:00 [INF] Executed DbCommand (30ms) [Parameters=[@__branchId_0='?', @__normalizedTime_Year_1='?' (DbType = Int32), @__normalizedTime_Month_2='?' (DbType = Int32), @__normalizedTime_Day_3='?' (DbType = Int32), @__normalizedTime_Hour_4='?' (DbType = Int32), @__normalizedTime_Minute_5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Appointments" AS a
    WHERE a."BranchId" = @__branchId_0 AND date_part('year', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Year_1 AND date_part('month', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Month_2 AND date_part('day', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Day_3 AND date_part('hour', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Hour_4 AND date_part('minute', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Minute_5)
2025-05-26 12:52:24.136 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?', @p1='?', @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Appointments" ("BranchId", "CustomerId", "ScheduledTime", "Status")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2025-05-26 12:52:24.199 +00:00 [INF] 🧹 Cache invalidated after create
2025-05-26 12:52:24.209 +00:00 [INF] 📤 Trying to connect to RabbitMQ...
2025-05-26 12:52:24.318 +00:00 [INF] ✅ Connected to RabbitMQ
2025-05-26 12:52:24.320 +00:00 [INF] 📤 Declaring queue 'notifications'...
2025-05-26 12:52:24.361 +00:00 [INF] 📤 Attempting to send notification to RabbitMQ...
2025-05-26 12:52:24.368 +00:00 [INF] ✅ Notification sent to RabbitMQ.
2025-05-26 12:52:24.393 +00:00 [INF] Executing CreatedAtActionResult, writing value of type 'ServiceAppointment.Models.Appointment'.
2025-05-26 12:52:24.434 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment) in 794.8363ms
2025-05-26 12:52:24.435 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment)'
2025-05-26 12:52:24.438 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5001/api/appointments - 201 null application/json; charset=utf-8 833.3353ms
2025-05-26 12:52:24.444 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 12:52:24.446 +00:00 [INF] CORS policy execution successful.
2025-05-26 12:52:24.447 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 2.7103ms
2025-05-26 12:52:24.452 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - null null
2025-05-26 12:52:24.454 +00:00 [INF] CORS policy execution successful.
2025-05-26 12:52:24.456 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - 204 null null 4.0515ms
2025-05-26 12:52:24.460 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 12:52:24.464 +00:00 [INF] CORS policy execution successful.
2025-05-26 12:52:24.466 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - null null
2025-05-26 12:52:24.470 +00:00 [INF] CORS policy execution successful.
2025-05-26 12:52:24.476 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 12:52:24.476 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 12:52:24.478 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 12:52:24.488 +00:00 [INF] Route matched with {action = "GetByBranch", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetByBranch(System.String) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 12:52:24.504 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 12:52:24.507 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 12:52:24.509 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 28.8147ms
2025-05-26 12:52:24.510 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 12:52:24.512 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 51.9963ms
2025-05-26 12:52:24.525 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__branchId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."BranchId" = @__branchId_0 AND a."Status" = 'Scheduled'
2025-05-26 12:52:24.533 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 12:52:24.535 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment) in 45.0585ms
2025-05-26 12:52:24.537 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 12:52:24.538 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - 200 null application/json; charset=utf-8 72.1209ms
2025-05-26 13:00:24.786 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 13:00:24.792 +00:00 [INF] CORS policy execution successful.
2025-05-26 13:00:24.794 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 7.8059ms
2025-05-26 13:00:24.800 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5001/api/appointments - application/json 115
2025-05-26 13:00:24.802 +00:00 [INF] CORS policy execution successful.
2025-05-26 13:00:24.806 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment)'
2025-05-26 13:00:24.807 +00:00 [INF] Route matched with {action = "Create", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(ServiceAppointment.Models.Requests.AppointmentRequest) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 13:00:24.894 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__branchId_0='?', @__normalizedTime_Year_1='?' (DbType = Int32), @__normalizedTime_Month_2='?' (DbType = Int32), @__normalizedTime_Day_3='?' (DbType = Int32), @__normalizedTime_Hour_4='?' (DbType = Int32), @__normalizedTime_Minute_5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Appointments" AS a
    WHERE a."BranchId" = @__branchId_0 AND date_part('year', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Year_1 AND date_part('month', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Month_2 AND date_part('day', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Day_3 AND date_part('hour', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Hour_4 AND date_part('minute', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Minute_5)
2025-05-26 13:00:24.911 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?', @p1='?', @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Appointments" ("BranchId", "CustomerId", "ScheduledTime", "Status")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2025-05-26 13:00:24.918 +00:00 [INF] 🧹 Cache invalidated after create
2025-05-26 13:00:24.919 +00:00 [INF] 📤 Trying to connect to RabbitMQ...
2025-05-26 13:00:24.937 +00:00 [INF] ✅ Connected to RabbitMQ
2025-05-26 13:00:24.938 +00:00 [INF] 📤 Declaring queue 'notifications'...
2025-05-26 13:00:24.942 +00:00 [INF] 📤 Attempting to send notification to RabbitMQ...
2025-05-26 13:00:24.944 +00:00 [INF] ✅ Notification sent to RabbitMQ.
2025-05-26 13:00:24.958 +00:00 [INF] Executing CreatedAtActionResult, writing value of type 'ServiceAppointment.Models.Appointment'.
2025-05-26 13:00:24.969 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment) in 161.2952ms
2025-05-26 13:00:24.972 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment)'
2025-05-26 13:00:24.975 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5001/api/appointments - 201 null application/json; charset=utf-8 174.5846ms
2025-05-26 13:00:24.984 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 13:00:24.987 +00:00 [INF] CORS policy execution successful.
2025-05-26 13:00:24.988 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 4.3899ms
2025-05-26 13:00:24.990 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - null null
2025-05-26 13:00:24.995 +00:00 [INF] CORS policy execution successful.
2025-05-26 13:00:24.999 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 13:00:25.000 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - 204 null null 9.5706ms
2025-05-26 13:00:25.006 +00:00 [INF] CORS policy execution successful.
2025-05-26 13:00:25.007 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - null null
2025-05-26 13:00:25.009 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 13:00:25.010 +00:00 [INF] CORS policy execution successful.
2025-05-26 13:00:25.014 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 13:00:25.019 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 13:00:25.027 +00:00 [INF] Route matched with {action = "GetByBranch", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetByBranch(System.String) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 13:00:25.027 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 13:00:25.036 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 13:00:25.043 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 21.3162ms
2025-05-26 13:00:25.050 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 13:00:25.060 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 60.7817ms
2025-05-26 13:00:25.065 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__branchId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."BranchId" = @__branchId_0 AND a."Status" = 'Scheduled'
2025-05-26 13:00:25.075 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 13:00:25.077 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment) in 47.1923ms
2025-05-26 13:00:25.082 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 13:00:25.090 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - 200 null application/json; charset=utf-8 83.6888ms
2025-05-26 13:09:30.828 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 13:09:30.832 +00:00 [INF] CORS policy execution successful.
2025-05-26 13:09:30.836 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 7.3374ms
2025-05-26 13:09:30.842 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 13:09:30.844 +00:00 [INF] CORS policy execution successful.
2025-05-26 13:09:30.848 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 13:09:30.850 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 13:09:30.874 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 13:09:30.876 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 13:09:30.878 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 26.1273ms
2025-05-26 13:09:30.881 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 13:09:30.883 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 40.8675ms
2025-05-26 13:09:53.646 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 13:09:53.648 +00:00 [INF] CORS policy execution successful.
2025-05-26 13:09:53.650 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 3.1929ms
2025-05-26 13:09:53.654 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5001/api/appointments - application/json 115
2025-05-26 13:09:53.655 +00:00 [INF] CORS policy execution successful.
2025-05-26 13:09:53.658 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment)'
2025-05-26 13:09:53.659 +00:00 [INF] Route matched with {action = "Create", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(ServiceAppointment.Models.Requests.AppointmentRequest) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 13:09:53.669 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__branchId_0='?', @__normalizedTime_Year_1='?' (DbType = Int32), @__normalizedTime_Month_2='?' (DbType = Int32), @__normalizedTime_Day_3='?' (DbType = Int32), @__normalizedTime_Hour_4='?' (DbType = Int32), @__normalizedTime_Minute_5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Appointments" AS a
    WHERE a."BranchId" = @__branchId_0 AND date_part('year', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Year_1 AND date_part('month', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Month_2 AND date_part('day', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Day_3 AND date_part('hour', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Hour_4 AND date_part('minute', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Minute_5)
2025-05-26 13:09:53.686 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?', @p1='?', @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Appointments" ("BranchId", "CustomerId", "ScheduledTime", "Status")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2025-05-26 13:09:53.689 +00:00 [INF] 🧹 Cache invalidated after create
2025-05-26 13:09:53.690 +00:00 [INF] 📤 Trying to connect to RabbitMQ...
2025-05-26 13:09:53.705 +00:00 [INF] ✅ Connected to RabbitMQ
2025-05-26 13:09:53.706 +00:00 [INF] 📤 Declaring queue 'notifications'...
2025-05-26 13:09:53.709 +00:00 [INF] 📤 Attempting to send notification to RabbitMQ...
2025-05-26 13:09:53.710 +00:00 [INF] ✅ Notification sent to RabbitMQ.
2025-05-26 13:09:53.717 +00:00 [INF] Executing CreatedAtActionResult, writing value of type 'ServiceAppointment.Models.Appointment'.
2025-05-26 13:09:53.720 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment) in 58.7253ms
2025-05-26 13:09:53.722 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment)'
2025-05-26 13:09:53.726 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5001/api/appointments - 201 null application/json; charset=utf-8 71.0211ms
2025-05-26 13:09:53.732 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 13:09:53.733 +00:00 [INF] CORS policy execution successful.
2025-05-26 13:09:53.735 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 3.0314ms
2025-05-26 13:09:53.740 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/ec1d72ff-c596-4e68-9eee-1d20648389a4 - null null
2025-05-26 13:09:53.742 +00:00 [INF] CORS policy execution successful.
2025-05-26 13:09:53.742 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 13:09:53.743 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/ec1d72ff-c596-4e68-9eee-1d20648389a4 - 204 null null 3.0975ms
2025-05-26 13:09:53.747 +00:00 [INF] CORS policy execution successful.
2025-05-26 13:09:53.752 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 13:09:53.754 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 13:09:53.757 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/ec1d72ff-c596-4e68-9eee-1d20648389a4 - null null
2025-05-26 13:09:53.758 +00:00 [INF] CORS policy execution successful.
2025-05-26 13:09:53.760 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 13:09:53.762 +00:00 [INF] Route matched with {action = "GetByBranch", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetByBranch(System.String) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 13:09:53.765 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 13:09:53.768 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 13:09:53.769 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__branchId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."BranchId" = @__branchId_0 AND a."Status" = 'Scheduled'
2025-05-26 13:09:53.770 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 13.4639ms
2025-05-26 13:09:53.772 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 13:09:53.773 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 13:09:53.775 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment) in 11.247ms
2025-05-26 13:09:53.777 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 34.263ms
2025-05-26 13:09:53.778 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 13:09:53.782 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/ec1d72ff-c596-4e68-9eee-1d20648389a4 - 200 null application/json; charset=utf-8 25.7005ms
2025-05-26 13:10:12.405 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 13:10:12.411 +00:00 [INF] CORS policy execution successful.
2025-05-26 13:10:12.417 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 12.023ms
2025-05-26 13:10:12.426 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments - null null
2025-05-26 13:10:12.436 +00:00 [INF] CORS policy execution successful.
2025-05-26 13:10:12.440 +00:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-05-26 13:10:12.442 +00:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-05-26 13:10:12.444 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments - 405 0 null 17.503ms
2025-05-26 13:41:05.348 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 13:41:05.350 +00:00 [INF] CORS policy execution successful.
2025-05-26 13:41:05.353 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 5.1224ms
2025-05-26 13:41:05.360 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 13:41:05.362 +00:00 [INF] CORS policy execution successful.
2025-05-26 13:41:05.364 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 13:41:05.365 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 13:41:05.388 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 13:41:05.391 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 13:41:05.393 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 27.0545ms
2025-05-26 13:41:05.396 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 13:41:05.399 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 38.832ms
2025-05-26 13:41:12.670 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/0df9c277-9c32-486e-a945-edbeb0f60db5 - null null
2025-05-26 13:41:12.672 +00:00 [INF] CORS policy execution successful.
2025-05-26 13:41:12.674 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/0df9c277-9c32-486e-a945-edbeb0f60db5 - 204 null null 3.6369ms
2025-05-26 13:41:12.679 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/0df9c277-9c32-486e-a945-edbeb0f60db5 - null null
2025-05-26 13:41:12.680 +00:00 [INF] CORS policy execution successful.
2025-05-26 13:41:12.681 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 13:41:12.682 +00:00 [INF] Route matched with {action = "GetByBranch", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetByBranch(System.String) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 13:41:12.687 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__branchId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."BranchId" = @__branchId_0 AND a."Status" = 'Scheduled'
2025-05-26 13:41:12.691 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 13:41:12.692 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment) in 8.8362ms
2025-05-26 13:41:12.693 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 13:41:12.695 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/0df9c277-9c32-486e-a945-edbeb0f60db5 - 200 null application/json; charset=utf-8 16.1524ms
2025-05-26 13:41:21.701 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 13:41:21.702 +00:00 [INF] CORS policy execution successful.
2025-05-26 13:41:21.705 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 3.528ms
2025-05-26 13:41:21.710 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5001/api/appointments - application/json 115
2025-05-26 13:41:21.712 +00:00 [INF] CORS policy execution successful.
2025-05-26 13:41:21.714 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment)'
2025-05-26 13:41:21.717 +00:00 [INF] Route matched with {action = "Create", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(ServiceAppointment.Models.Requests.AppointmentRequest) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 13:41:21.727 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__branchId_0='?', @__normalizedTime_Year_1='?' (DbType = Int32), @__normalizedTime_Month_2='?' (DbType = Int32), @__normalizedTime_Day_3='?' (DbType = Int32), @__normalizedTime_Hour_4='?' (DbType = Int32), @__normalizedTime_Minute_5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Appointments" AS a
    WHERE a."BranchId" = @__branchId_0 AND date_part('year', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Year_1 AND date_part('month', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Month_2 AND date_part('day', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Day_3 AND date_part('hour', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Hour_4 AND date_part('minute', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Minute_5)
2025-05-26 13:41:21.735 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?', @p1='?', @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Appointments" ("BranchId", "CustomerId", "ScheduledTime", "Status")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2025-05-26 13:41:21.738 +00:00 [INF] 🧹 Cache invalidated after create
2025-05-26 13:41:21.740 +00:00 [INF] 📤 Trying to connect to RabbitMQ...
2025-05-26 13:41:21.755 +00:00 [INF] ✅ Connected to RabbitMQ
2025-05-26 13:41:21.756 +00:00 [INF] 📤 Declaring queue 'notifications'...
2025-05-26 13:41:21.760 +00:00 [INF] 📤 Attempting to send notification to RabbitMQ...
2025-05-26 13:41:21.761 +00:00 [INF] ✅ Notification sent to RabbitMQ.
2025-05-26 13:41:21.771 +00:00 [INF] Executing CreatedAtActionResult, writing value of type 'ServiceAppointment.Models.Appointment'.
2025-05-26 13:41:21.774 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment) in 54.6585ms
2025-05-26 13:41:21.776 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment)'
2025-05-26 13:41:21.778 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5001/api/appointments - 201 null application/json; charset=utf-8 68.3107ms
2025-05-26 13:41:21.785 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 13:41:21.787 +00:00 [INF] CORS policy execution successful.
2025-05-26 13:41:21.791 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 6.2718ms
2025-05-26 13:41:21.793 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/0df9c277-9c32-486e-a945-edbeb0f60db5 - null null
2025-05-26 13:41:21.797 +00:00 [INF] CORS policy execution successful.
2025-05-26 13:41:21.797 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 13:41:21.800 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/0df9c277-9c32-486e-a945-edbeb0f60db5 - 204 null null 7.3091ms
2025-05-26 13:41:21.801 +00:00 [INF] CORS policy execution successful.
2025-05-26 13:41:21.805 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 13:41:21.807 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/0df9c277-9c32-486e-a945-edbeb0f60db5 - null null
2025-05-26 13:41:21.808 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 13:41:21.809 +00:00 [INF] CORS policy execution successful.
2025-05-26 13:41:21.813 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 13:41:21.814 +00:00 [INF] Route matched with {action = "GetByBranch", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetByBranch(System.String) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 13:41:21.815 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 13:41:21.818 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 13:41:21.819 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 8.7559ms
2025-05-26 13:41:21.821 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 13:41:21.821 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__branchId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."BranchId" = @__branchId_0 AND a."Status" = 'Scheduled'
2025-05-26 13:41:21.825 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 27.5145ms
2025-05-26 13:41:21.830 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 13:41:21.832 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment) in 16.011ms
2025-05-26 13:41:21.834 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 13:41:21.835 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/0df9c277-9c32-486e-a945-edbeb0f60db5 - 200 null application/json; charset=utf-8 27.8495ms
2025-05-26 13:41:43.093 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 13:41:43.094 +00:00 [INF] CORS policy execution successful.
2025-05-26 13:41:43.095 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 2.2661ms
2025-05-26 13:41:43.100 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5001/api/appointments - application/json 115
2025-05-26 13:41:43.101 +00:00 [INF] CORS policy execution successful.
2025-05-26 13:41:43.103 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment)'
2025-05-26 13:41:43.106 +00:00 [INF] Route matched with {action = "Create", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(ServiceAppointment.Models.Requests.AppointmentRequest) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 13:41:43.111 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__branchId_0='?', @__normalizedTime_Year_1='?' (DbType = Int32), @__normalizedTime_Month_2='?' (DbType = Int32), @__normalizedTime_Day_3='?' (DbType = Int32), @__normalizedTime_Hour_4='?' (DbType = Int32), @__normalizedTime_Minute_5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Appointments" AS a
    WHERE a."BranchId" = @__branchId_0 AND date_part('year', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Year_1 AND date_part('month', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Month_2 AND date_part('day', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Day_3 AND date_part('hour', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Hour_4 AND date_part('minute', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Minute_5)
2025-05-26 13:41:43.120 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?', @p1='?', @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Appointments" ("BranchId", "CustomerId", "ScheduledTime", "Status")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2025-05-26 13:41:43.124 +00:00 [INF] 🧹 Cache invalidated after create
2025-05-26 13:41:43.124 +00:00 [INF] 📤 Trying to connect to RabbitMQ...
2025-05-26 13:41:43.139 +00:00 [INF] ✅ Connected to RabbitMQ
2025-05-26 13:41:43.141 +00:00 [INF] 📤 Declaring queue 'notifications'...
2025-05-26 13:41:43.145 +00:00 [INF] 📤 Attempting to send notification to RabbitMQ...
2025-05-26 13:41:43.146 +00:00 [INF] ✅ Notification sent to RabbitMQ.
2025-05-26 13:41:43.151 +00:00 [INF] Executing CreatedAtActionResult, writing value of type 'ServiceAppointment.Models.Appointment'.
2025-05-26 13:41:43.157 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment) in 50.144ms
2025-05-26 13:41:43.160 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment)'
2025-05-26 13:41:43.162 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5001/api/appointments - 201 null application/json; charset=utf-8 61.1374ms
2025-05-26 13:41:43.169 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 13:41:43.170 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/0df9c277-9c32-486e-a945-edbeb0f60db5 - null null
2025-05-26 13:41:43.171 +00:00 [INF] CORS policy execution successful.
2025-05-26 13:41:43.173 +00:00 [INF] CORS policy execution successful.
2025-05-26 13:41:43.175 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 5.7734ms
2025-05-26 13:41:43.176 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/0df9c277-9c32-486e-a945-edbeb0f60db5 - 204 null null 6.8873ms
2025-05-26 13:41:43.181 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 13:41:43.181 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/0df9c277-9c32-486e-a945-edbeb0f60db5 - null null
2025-05-26 13:41:43.182 +00:00 [INF] CORS policy execution successful.
2025-05-26 13:41:43.183 +00:00 [INF] CORS policy execution successful.
2025-05-26 13:41:43.186 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 13:41:43.188 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 13:41:43.189 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 13:41:43.191 +00:00 [INF] Route matched with {action = "GetByBranch", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetByBranch(System.String) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 13:41:43.196 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 13:41:43.198 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 13:41:43.200 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 8.1139ms
2025-05-26 13:41:43.201 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 13:41:43.208 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 27.5387ms
2025-05-26 13:41:43.222 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__branchId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."BranchId" = @__branchId_0 AND a."Status" = 'Scheduled'
2025-05-26 13:41:43.226 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 13:41:43.228 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment) in 35.065ms
2025-05-26 13:41:43.230 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 13:41:43.232 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/0df9c277-9c32-486e-a945-edbeb0f60db5 - 200 null application/json; charset=utf-8 51.1855ms
2025-05-26 13:42:18.971 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 13:42:18.974 +00:00 [INF] CORS policy execution successful.
2025-05-26 13:42:18.975 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 3.7228ms
2025-05-26 13:42:18.980 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5001/api/appointments - application/json 115
2025-05-26 13:42:18.981 +00:00 [INF] CORS policy execution successful.
2025-05-26 13:42:18.983 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment)'
2025-05-26 13:42:18.984 +00:00 [INF] Route matched with {action = "Create", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(ServiceAppointment.Models.Requests.AppointmentRequest) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 13:42:18.991 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__branchId_0='?', @__normalizedTime_Year_1='?' (DbType = Int32), @__normalizedTime_Month_2='?' (DbType = Int32), @__normalizedTime_Day_3='?' (DbType = Int32), @__normalizedTime_Hour_4='?' (DbType = Int32), @__normalizedTime_Minute_5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Appointments" AS a
    WHERE a."BranchId" = @__branchId_0 AND date_part('year', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Year_1 AND date_part('month', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Month_2 AND date_part('day', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Day_3 AND date_part('hour', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Hour_4 AND date_part('minute', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Minute_5)
2025-05-26 13:42:19.004 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?', @p1='?', @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Appointments" ("BranchId", "CustomerId", "ScheduledTime", "Status")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2025-05-26 13:42:19.007 +00:00 [INF] 🧹 Cache invalidated after create
2025-05-26 13:42:19.009 +00:00 [INF] 📤 Trying to connect to RabbitMQ...
2025-05-26 13:42:19.023 +00:00 [INF] ✅ Connected to RabbitMQ
2025-05-26 13:42:19.024 +00:00 [INF] 📤 Declaring queue 'notifications'...
2025-05-26 13:42:19.034 +00:00 [INF] 📤 Attempting to send notification to RabbitMQ...
2025-05-26 13:42:19.035 +00:00 [INF] ✅ Notification sent to RabbitMQ.
2025-05-26 13:42:19.039 +00:00 [INF] Executing CreatedAtActionResult, writing value of type 'ServiceAppointment.Models.Appointment'.
2025-05-26 13:42:19.045 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment) in 59.7089ms
2025-05-26 13:42:19.048 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment)'
2025-05-26 13:42:19.049 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5001/api/appointments - 201 null application/json; charset=utf-8 69.4718ms
2025-05-26 13:42:19.057 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 13:42:19.058 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/0df9c277-9c32-486e-a945-edbeb0f60db5 - null null
2025-05-26 13:42:19.064 +00:00 [INF] CORS policy execution successful.
2025-05-26 13:42:19.065 +00:00 [INF] CORS policy execution successful.
2025-05-26 13:42:19.066 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 9.0855ms
2025-05-26 13:42:19.067 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/0df9c277-9c32-486e-a945-edbeb0f60db5 - 204 null null 8.4291ms
2025-05-26 13:42:19.073 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 13:42:19.073 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/0df9c277-9c32-486e-a945-edbeb0f60db5 - null null
2025-05-26 13:42:19.075 +00:00 [INF] CORS policy execution successful.
2025-05-26 13:42:19.075 +00:00 [INF] CORS policy execution successful.
2025-05-26 13:42:19.077 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 13:42:19.078 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 13:42:19.078 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 13:42:19.080 +00:00 [INF] Route matched with {action = "GetByBranch", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetByBranch(System.String) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 13:42:19.086 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 13:42:19.089 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__branchId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."BranchId" = @__branchId_0 AND a."Status" = 'Scheduled'
2025-05-26 13:42:19.093 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 13:42:19.094 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 13:42:19.095 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 13.8181ms
2025-05-26 13:42:19.095 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment) in 13.4783ms
2025-05-26 13:42:19.096 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 13:42:19.097 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 13:42:19.098 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 25.2167ms
2025-05-26 13:42:19.099 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/0df9c277-9c32-486e-a945-edbeb0f60db5 - 200 null application/json; charset=utf-8 25.68ms
2025-05-26 14:22:15.272 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 14:22:15.294 +00:00 [INF] CORS policy execution successful.
2025-05-26 14:22:15.300 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 27.9744ms
2025-05-26 14:22:15.305 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 14:22:15.307 +00:00 [INF] CORS policy execution successful.
2025-05-26 14:22:15.309 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 14:22:15.311 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 14:22:15.343 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 14:22:15.348 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 14:22:15.351 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 35.6527ms
2025-05-26 14:22:15.353 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 14:22:15.355 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 49.9163ms
2025-05-26 14:22:29.326 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 14:22:29.330 +00:00 [INF] CORS policy execution successful.
2025-05-26 14:22:29.334 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 7.965ms
2025-05-26 14:22:29.340 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 14:22:29.341 +00:00 [INF] CORS policy execution successful.
2025-05-26 14:22:29.343 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 14:22:29.345 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 14:22:29.352 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 14:22:29.355 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 14:22:29.359 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 11.1494ms
2025-05-26 14:22:29.362 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 14:22:29.366 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 26.4058ms
2025-05-26 14:22:43.650 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 14:22:43.651 +00:00 [INF] CORS policy execution successful.
2025-05-26 14:22:43.652 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 1.8906ms
2025-05-26 14:22:43.656 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5001/api/appointments - application/json 115
2025-05-26 14:22:43.657 +00:00 [INF] CORS policy execution successful.
2025-05-26 14:22:43.659 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment)'
2025-05-26 14:22:43.661 +00:00 [INF] Route matched with {action = "Create", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(ServiceAppointment.Models.Requests.AppointmentRequest) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 14:22:43.672 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__branchId_0='?', @__normalizedTime_Year_1='?' (DbType = Int32), @__normalizedTime_Month_2='?' (DbType = Int32), @__normalizedTime_Day_3='?' (DbType = Int32), @__normalizedTime_Hour_4='?' (DbType = Int32), @__normalizedTime_Minute_5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Appointments" AS a
    WHERE a."BranchId" = @__branchId_0 AND date_part('year', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Year_1 AND date_part('month', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Month_2 AND date_part('day', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Day_3 AND date_part('hour', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Hour_4 AND date_part('minute', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Minute_5)
2025-05-26 14:22:43.681 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?', @p1='?', @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Appointments" ("BranchId", "CustomerId", "ScheduledTime", "Status")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2025-05-26 14:22:43.684 +00:00 [INF] 🧹 Cache invalidated after create
2025-05-26 14:22:43.685 +00:00 [INF] 📤 Trying to connect to RabbitMQ...
2025-05-26 14:22:43.699 +00:00 [INF] ✅ Connected to RabbitMQ
2025-05-26 14:22:43.701 +00:00 [INF] 📤 Declaring queue 'notifications'...
2025-05-26 14:22:43.704 +00:00 [INF] 📤 Attempting to send notification to RabbitMQ...
2025-05-26 14:22:43.705 +00:00 [INF] ✅ Notification sent to RabbitMQ.
2025-05-26 14:22:43.712 +00:00 [INF] Executing CreatedAtActionResult, writing value of type 'ServiceAppointment.Models.Appointment'.
2025-05-26 14:22:43.715 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment) in 50.5013ms
2025-05-26 14:22:43.720 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment)'
2025-05-26 14:22:43.721 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5001/api/appointments - 201 null application/json; charset=utf-8 64.8108ms
2025-05-26 14:22:43.728 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 14:22:43.730 +00:00 [INF] CORS policy execution successful.
2025-05-26 14:22:43.732 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 4.6089ms
2025-05-26 14:22:43.736 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/ec1d72ff-c596-4e68-9eee-1d20648389a4 - null null
2025-05-26 14:22:43.737 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 14:22:43.738 +00:00 [INF] CORS policy execution successful.
2025-05-26 14:22:43.739 +00:00 [INF] CORS policy execution successful.
2025-05-26 14:22:43.741 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/ec1d72ff-c596-4e68-9eee-1d20648389a4 - 204 null null 5.2123ms
2025-05-26 14:22:43.743 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 14:22:43.744 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 14:22:43.748 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/ec1d72ff-c596-4e68-9eee-1d20648389a4 - null null
2025-05-26 14:22:43.750 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 14:22:43.751 +00:00 [INF] CORS policy execution successful.
2025-05-26 14:22:43.752 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 14:22:43.753 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 14:22:43.757 +00:00 [INF] Route matched with {action = "GetByBranch", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetByBranch(System.String) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 14:22:43.755 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 8.5147ms
2025-05-26 14:22:43.761 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 14:22:43.765 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__branchId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."BranchId" = @__branchId_0 AND a."Status" = 'Scheduled'
2025-05-26 14:22:43.765 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 27.4746ms
2025-05-26 14:22:43.767 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 14:22:43.769 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment) in 9.7498ms
2025-05-26 14:22:43.770 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 14:22:43.772 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/ec1d72ff-c596-4e68-9eee-1d20648389a4 - 200 null application/json; charset=utf-8 23.9963ms
2025-05-26 14:23:36.659 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 14:23:36.660 +00:00 [INF] CORS policy execution successful.
2025-05-26 14:23:36.662 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 2.5564ms
2025-05-26 14:23:36.666 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5001/api/appointments - application/json 115
2025-05-26 14:23:36.668 +00:00 [INF] CORS policy execution successful.
2025-05-26 14:23:36.670 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment)'
2025-05-26 14:23:36.671 +00:00 [INF] Route matched with {action = "Create", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(ServiceAppointment.Models.Requests.AppointmentRequest) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 14:23:36.678 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__branchId_0='?', @__normalizedTime_Year_1='?' (DbType = Int32), @__normalizedTime_Month_2='?' (DbType = Int32), @__normalizedTime_Day_3='?' (DbType = Int32), @__normalizedTime_Hour_4='?' (DbType = Int32), @__normalizedTime_Minute_5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Appointments" AS a
    WHERE a."BranchId" = @__branchId_0 AND date_part('year', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Year_1 AND date_part('month', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Month_2 AND date_part('day', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Day_3 AND date_part('hour', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Hour_4 AND date_part('minute', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Minute_5)
2025-05-26 14:23:36.684 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?', @p1='?', @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Appointments" ("BranchId", "CustomerId", "ScheduledTime", "Status")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2025-05-26 14:23:36.687 +00:00 [INF] 🧹 Cache invalidated after create
2025-05-26 14:23:36.688 +00:00 [INF] 📤 Trying to connect to RabbitMQ...
2025-05-26 14:23:36.705 +00:00 [INF] ✅ Connected to RabbitMQ
2025-05-26 14:23:36.706 +00:00 [INF] 📤 Declaring queue 'notifications'...
2025-05-26 14:23:36.709 +00:00 [INF] 📤 Attempting to send notification to RabbitMQ...
2025-05-26 14:23:36.710 +00:00 [INF] ✅ Notification sent to RabbitMQ.
2025-05-26 14:23:36.721 +00:00 [INF] Executing CreatedAtActionResult, writing value of type 'ServiceAppointment.Models.Appointment'.
2025-05-26 14:23:36.723 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment) in 51.5989ms
2025-05-26 14:23:36.725 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment)'
2025-05-26 14:23:36.726 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5001/api/appointments - 201 null application/json; charset=utf-8 59.3027ms
2025-05-26 14:23:36.733 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 14:23:36.735 +00:00 [INF] CORS policy execution successful.
2025-05-26 14:23:36.737 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 4.2159ms
2025-05-26 14:23:36.740 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/ec1d72ff-c596-4e68-9eee-1d20648389a4 - null null
2025-05-26 14:23:36.742 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 14:23:36.743 +00:00 [INF] CORS policy execution successful.
2025-05-26 14:23:36.744 +00:00 [INF] CORS policy execution successful.
2025-05-26 14:23:36.745 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/ec1d72ff-c596-4e68-9eee-1d20648389a4 - 204 null null 4.8926ms
2025-05-26 14:23:36.749 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 14:23:36.749 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/ec1d72ff-c596-4e68-9eee-1d20648389a4 - null null
2025-05-26 14:23:36.751 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 14:23:36.752 +00:00 [INF] CORS policy execution successful.
2025-05-26 14:23:36.755 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 14:23:36.756 +00:00 [INF] Route matched with {action = "GetByBranch", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetByBranch(System.String) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 14:23:36.762 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 14:23:36.767 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 14:23:36.770 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 16.7413ms
2025-05-26 14:23:36.771 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 14:23:36.773 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 31.0549ms
2025-05-26 14:23:36.784 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__branchId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."BranchId" = @__branchId_0 AND a."Status" = 'Scheduled'
2025-05-26 14:23:36.786 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 14:23:36.788 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment) in 30.2579ms
2025-05-26 14:23:36.789 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 14:23:36.790 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/ec1d72ff-c596-4e68-9eee-1d20648389a4 - 200 null application/json; charset=utf-8 40.7172ms
2025-05-26 16:25:16.974 +00:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 16:25:17.702 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-05-26 16:25:17.728 +00:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-26 16:25:17.733 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-05-26 16:25:17.736 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 16:25:17.750 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-05-26 16:25:17.801 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
2025-05-26 16:25:17.803 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-26 16:25:17.948 +00:00 [INF] Now listening on: http://[::]:8080
2025-05-26 16:25:17.955 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-26 16:25:17.957 +00:00 [INF] Hosting environment: Development
2025-05-26 16:25:17.959 +00:00 [INF] Content root path: /app
2025-05-26 16:25:34.384 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 16:25:34.469 +00:00 [WRN] Failed to determine the https port for redirect.
2025-05-26 16:25:34.473 +00:00 [INF] CORS policy execution successful.
2025-05-26 16:25:34.486 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 109.3033ms
2025-05-26 16:25:34.496 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 16:25:34.511 +00:00 [INF] CORS policy execution successful.
2025-05-26 16:25:34.664 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 16:25:34.723 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 16:25:35.493 +00:00 [INF] Executed DbCommand (37ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 16:25:35.651 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 16:25:35.827 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 1093.5112ms
2025-05-26 16:25:35.830 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 16:25:35.845 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 1349.7003ms
2025-05-26 16:25:42.863 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - null null
2025-05-26 16:25:42.867 +00:00 [INF] CORS policy execution successful.
2025-05-26 16:25:42.869 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - 204 null null 5.9413ms
2025-05-26 16:25:42.873 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - null null
2025-05-26 16:25:42.877 +00:00 [INF] CORS policy execution successful.
2025-05-26 16:25:42.886 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 16:25:42.906 +00:00 [INF] Route matched with {action = "GetByBranch", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetByBranch(System.String) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 16:25:43.070 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__branchId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."BranchId" = @__branchId_0 AND a."Status" = 'Scheduled'
2025-05-26 16:25:43.076 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 16:25:43.082 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment) in 174.0538ms
2025-05-26 16:25:43.084 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 16:25:43.086 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - 200 null application/json; charset=utf-8 212.521ms
2025-05-26 16:26:40.273 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 16:26:40.275 +00:00 [INF] CORS policy execution successful.
2025-05-26 16:26:40.282 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 9.8472ms
2025-05-26 16:26:40.294 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 16:26:40.300 +00:00 [INF] CORS policy execution successful.
2025-05-26 16:26:40.317 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 16:26:40.319 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 16:26:40.347 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 16:26:40.351 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 16:26:40.354 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 31.4777ms
2025-05-26 16:26:40.355 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 16:26:40.357 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 63.593ms
2025-05-26 16:37:07.585 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 16:37:07.588 +00:00 [INF] CORS policy execution successful.
2025-05-26 16:37:07.590 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 4.3078ms
2025-05-26 16:37:07.596 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 16:37:07.598 +00:00 [INF] CORS policy execution successful.
2025-05-26 16:37:07.602 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 16:37:07.603 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 16:37:07.697 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 16:37:07.701 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 16:37:07.702 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 98.5783ms
2025-05-26 16:37:07.705 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 16:37:07.719 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 123.3804ms
2025-05-26 18:12:34.963 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 18:12:35.010 +00:00 [INF] CORS policy execution successful.
2025-05-26 18:12:35.014 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 50.6647ms
2025-05-26 18:12:35.025 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments - null null
2025-05-26 18:12:35.031 +00:00 [INF] CORS policy execution successful.
2025-05-26 18:12:35.035 +00:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-05-26 18:12:35.041 +00:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-05-26 18:12:35.044 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments - 405 0 null 18.5265ms
2025-05-26 18:13:12.269 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 18:13:12.291 +00:00 [INF] CORS policy execution successful.
2025-05-26 18:13:12.296 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 26.5507ms
2025-05-26 18:13:12.306 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 18:13:12.308 +00:00 [INF] CORS policy execution successful.
2025-05-26 18:13:12.311 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 18:13:12.313 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 18:13:12.364 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 18:13:12.368 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 18:13:12.372 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 50.7378ms
2025-05-26 18:13:12.374 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 18:13:12.378 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 71.9537ms
2025-05-26 18:13:53.820 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 18:13:53.822 +00:00 [INF] CORS policy execution successful.
2025-05-26 18:13:53.824 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 4.6151ms
2025-05-26 18:13:53.830 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5001/api/appointments - application/json 115
2025-05-26 18:13:53.831 +00:00 [INF] CORS policy execution successful.
2025-05-26 18:13:53.834 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment)'
2025-05-26 18:13:53.846 +00:00 [INF] Route matched with {action = "Create", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(ServiceAppointment.Models.Requests.AppointmentRequest) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 18:13:53.994 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__branchId_0='?', @__normalizedTime_Year_1='?' (DbType = Int32), @__normalizedTime_Month_2='?' (DbType = Int32), @__normalizedTime_Day_3='?' (DbType = Int32), @__normalizedTime_Hour_4='?' (DbType = Int32), @__normalizedTime_Minute_5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Appointments" AS a
    WHERE a."BranchId" = @__branchId_0 AND date_part('year', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Year_1 AND date_part('month', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Month_2 AND date_part('day', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Day_3 AND date_part('hour', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Hour_4 AND date_part('minute', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Minute_5)
2025-05-26 18:13:54.208 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?', @p1='?', @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Appointments" ("BranchId", "CustomerId", "ScheduledTime", "Status")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2025-05-26 18:13:54.270 +00:00 [INF] 🧹 Cache invalidated after create
2025-05-26 18:13:54.286 +00:00 [INF] 📤 Trying to connect to RabbitMQ...
2025-05-26 18:13:54.424 +00:00 [INF] ✅ Connected to RabbitMQ
2025-05-26 18:13:54.425 +00:00 [INF] 📤 Declaring queue 'notifications'...
2025-05-26 18:13:54.460 +00:00 [INF] 📤 Attempting to send notification to RabbitMQ...
2025-05-26 18:13:54.467 +00:00 [INF] ✅ Notification sent to RabbitMQ.
2025-05-26 18:13:54.495 +00:00 [INF] Executing CreatedAtActionResult, writing value of type 'ServiceAppointment.Models.Appointment'.
2025-05-26 18:13:54.535 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment) in 687.963ms
2025-05-26 18:13:54.537 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment)'
2025-05-26 18:13:54.540 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5001/api/appointments - 201 null application/json; charset=utf-8 710.5101ms
2025-05-26 18:13:54.550 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 18:13:54.551 +00:00 [INF] CORS policy execution successful.
2025-05-26 18:13:54.553 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 2.9531ms
2025-05-26 18:13:54.559 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - null null
2025-05-26 18:13:54.562 +00:00 [INF] CORS policy execution successful.
2025-05-26 18:13:54.565 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - 204 null null 5.8669ms
2025-05-26 18:13:54.565 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 18:13:54.572 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - null null
2025-05-26 18:13:54.574 +00:00 [INF] CORS policy execution successful.
2025-05-26 18:13:54.576 +00:00 [INF] CORS policy execution successful.
2025-05-26 18:13:54.579 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 18:13:54.582 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 18:13:54.583 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 18:13:54.585 +00:00 [INF] Route matched with {action = "GetByBranch", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetByBranch(System.String) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 18:13:54.593 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 18:13:54.595 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 18:13:54.598 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 11.3772ms
2025-05-26 18:13:54.602 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 18:13:54.606 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 40.6526ms
2025-05-26 18:13:54.621 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__branchId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."BranchId" = @__branchId_0 AND a."Status" = 'Scheduled'
2025-05-26 18:13:54.624 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 18:13:54.625 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment) in 37.6031ms
2025-05-26 18:13:54.631 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 18:13:54.634 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - 200 null application/json; charset=utf-8 61.5127ms
2025-05-26 18:14:50.845 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 18:14:50.853 +00:00 [INF] CORS policy execution successful.
2025-05-26 18:14:50.863 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 18.4694ms
2025-05-26 18:14:50.869 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments - null null
2025-05-26 18:14:50.879 +00:00 [INF] CORS policy execution successful.
2025-05-26 18:14:50.885 +00:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-05-26 18:14:50.892 +00:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-05-26 18:14:50.896 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments - 405 0 null 27.1369ms
2025-05-26 18:39:45.451 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 18:39:45.462 +00:00 [INF] CORS policy execution successful.
2025-05-26 18:39:45.472 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 20.7925ms
2025-05-26 18:39:45.483 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments - null null
2025-05-26 18:39:45.486 +00:00 [INF] CORS policy execution successful.
2025-05-26 18:39:45.491 +00:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-05-26 18:39:45.492 +00:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-05-26 18:39:45.499 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments - 405 0 null 16.0612ms
2025-05-26 18:43:34.267 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments - null null
2025-05-26 18:43:34.272 +00:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-05-26 18:43:34.275 +00:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-05-26 18:43:34.280 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments - 405 0 null 12.289ms
2025-05-26 18:44:41.297 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 18:44:41.299 +00:00 [INF] CORS policy execution successful.
2025-05-26 18:44:41.300 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 3.8532ms
2025-05-26 18:44:41.310 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 18:44:41.314 +00:00 [INF] CORS policy execution successful.
2025-05-26 18:44:41.323 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 18:44:41.327 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 18:44:41.356 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 18:44:41.360 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 18:44:41.362 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 31.7283ms
2025-05-26 18:44:41.364 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 18:44:41.368 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 57.2172ms
2025-05-26 18:47:45.685 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 18:47:45.697 +00:00 [INF] CORS policy execution successful.
2025-05-26 18:47:45.718 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 32.5882ms
2025-05-26 18:47:45.747 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments - null null
2025-05-26 18:47:45.750 +00:00 [INF] CORS policy execution successful.
2025-05-26 18:47:45.753 +00:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-05-26 18:47:45.755 +00:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-05-26 18:47:45.756 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments - 405 0 null 8.9022ms
2025-05-26 19:04:08.948 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 19:04:08.953 +00:00 [INF] CORS policy execution successful.
2025-05-26 19:04:08.955 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 7.174ms
2025-05-26 19:04:08.984 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments - null null
2025-05-26 19:04:08.988 +00:00 [INF] CORS policy execution successful.
2025-05-26 19:04:08.995 +00:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-05-26 19:04:08.997 +00:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-05-26 19:04:08.998 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments - 405 0 null 14.6164ms
2025-05-26 19:07:59.945 +00:00 [INF] Application is shutting down...
2025-05-26 19:08:46.357 +00:00 [INF] Executed DbCommand (127ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 19:08:47.485 +00:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-05-26 19:08:47.525 +00:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-26 19:08:47.530 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-05-26 19:08:47.541 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 19:08:47.562 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-05-26 19:08:47.654 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
2025-05-26 19:08:47.656 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-26 19:08:47.735 +00:00 [INF] Creating key {533c65cf-10a2-44be-b014-e112868d085c} with creation date 2025-05-26 19:08:47Z, activation date 2025-05-26 19:08:47Z, and expiration date 2025-08-24 19:08:47Z.
2025-05-26 19:08:47.768 +00:00 [WRN] No XML encryptor configured. Key {533c65cf-10a2-44be-b014-e112868d085c} may be persisted to storage in unencrypted form.
2025-05-26 19:08:47.791 +00:00 [INF] Writing data to file '/root/.aspnet/DataProtection-Keys/key-533c65cf-10a2-44be-b014-e112868d085c.xml'.
2025-05-26 19:08:48.009 +00:00 [INF] Now listening on: http://[::]:8080
2025-05-26 19:08:48.026 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-26 19:08:48.037 +00:00 [INF] Hosting environment: Development
2025-05-26 19:08:48.041 +00:00 [INF] Content root path: /app
2025-05-26 19:10:57.589 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 19:10:57.689 +00:00 [WRN] Failed to determine the https port for redirect.
2025-05-26 19:10:57.693 +00:00 [INF] CORS policy execution successful.
2025-05-26 19:10:57.709 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 125.1038ms
2025-05-26 19:10:57.719 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments - null null
2025-05-26 19:10:57.737 +00:00 [INF] CORS policy execution successful.
2025-05-26 19:10:57.932 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetAllAppointments (ServiceAppointment)'
2025-05-26 19:10:57.998 +00:00 [INF] Route matched with {action = "GetAllAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetAllAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 19:10:58.052 +00:00 [INF] ⛔ Cache miss — querying DB
2025-05-26 19:10:58.880 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
2025-05-26 19:10:59.506 +00:00 [INF] ✅ Appointments saved to Redis cache
2025-05-26 19:10:59.547 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 19:10:59.638 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetAllAppointments (ServiceAppointment) in 1609.023ms
2025-05-26 19:10:59.646 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetAllAppointments (ServiceAppointment)'
2025-05-26 19:10:59.698 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments - 200 null application/json; charset=utf-8 1979.2771ms
2025-05-26 19:11:15.591 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/2 - null null
2025-05-26 19:11:15.596 +00:00 [INF] CORS policy execution successful.
2025-05-26 19:11:15.598 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/2 - 204 null null 6.7349ms
2025-05-26 19:11:15.604 +00:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5001/api/appointments/2 - null null
2025-05-26 19:11:15.609 +00:00 [INF] CORS policy execution successful.
2025-05-26 19:11:15.618 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.DeleteAppointment (ServiceAppointment)'
2025-05-26 19:11:15.649 +00:00 [INF] Route matched with {action = "DeleteAppointment", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteAppointment(Int32) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 19:11:16.116 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-05-26 19:11:16.282 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Appointments" SET "Status" = @p0
WHERE "Id" = @p1;
2025-05-26 19:11:16.310 +00:00 [INF] 🧹 Cache invalidated after cancel
2025-05-26 19:11:16.320 +00:00 [INF] 📤 Trying to connect to RabbitMQ...
2025-05-26 19:11:16.437 +00:00 [INF] ✅ Connected to RabbitMQ
2025-05-26 19:11:16.440 +00:00 [INF] 📤 Declaring queue 'notifications'...
2025-05-26 19:11:16.469 +00:00 [INF] 📤 Attempting to send notification to RabbitMQ...
2025-05-26 19:11:16.475 +00:00 [INF] ✅ Notification sent to RabbitMQ.
2025-05-26 19:11:16.505 +00:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-05-26 19:11:16.507 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.DeleteAppointment (ServiceAppointment) in 855.7574ms
2025-05-26 19:11:16.509 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.DeleteAppointment (ServiceAppointment)'
2025-05-26 19:11:16.513 +00:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5001/api/appointments/2 - 204 null null 909.323ms
2025-05-26 19:15:34.839 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 19:15:34.845 +00:00 [INF] CORS policy execution successful.
2025-05-26 19:15:34.846 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 7.0123ms
2025-05-26 19:15:34.855 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments - null null
2025-05-26 19:15:34.859 +00:00 [INF] CORS policy execution successful.
2025-05-26 19:15:34.877 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetAllAppointments (ServiceAppointment)'
2025-05-26 19:15:34.881 +00:00 [INF] Route matched with {action = "GetAllAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetAllAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 19:15:34.901 +00:00 [INF] ⛔ Cache miss — querying DB
2025-05-26 19:15:34.975 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
2025-05-26 19:15:34.982 +00:00 [INF] ✅ Appointments saved to Redis cache
2025-05-26 19:15:34.987 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 19:15:34.995 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetAllAppointments (ServiceAppointment) in 111.0656ms
2025-05-26 19:15:35.000 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetAllAppointments (ServiceAppointment)'
2025-05-26 19:15:35.004 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments - 200 null application/json; charset=utf-8 148.843ms
2025-05-26 19:17:23.444 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 19:17:23.460 +00:00 [INF] CORS policy execution successful.
2025-05-26 19:17:23.492 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 47.7965ms
2025-05-26 19:17:23.500 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments - null null
2025-05-26 19:17:23.503 +00:00 [INF] CORS policy execution successful.
2025-05-26 19:17:23.508 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetAllAppointments (ServiceAppointment)'
2025-05-26 19:17:23.511 +00:00 [INF] Route matched with {action = "GetAllAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetAllAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 19:17:23.583 +00:00 [INF] ✅ Returning appointments from Redis cache
2025-05-26 19:17:23.587 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 19:17:23.591 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetAllAppointments (ServiceAppointment) in 73.5735ms
2025-05-26 19:17:23.594 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetAllAppointments (ServiceAppointment)'
2025-05-26 19:17:23.596 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments - 200 null application/json; charset=utf-8 96.6604ms
2025-05-26 19:17:52.320 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 19:17:52.322 +00:00 [INF] CORS policy execution successful.
2025-05-26 19:17:52.329 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 8.9855ms
2025-05-26 19:17:52.344 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments - null null
2025-05-26 19:17:52.357 +00:00 [INF] CORS policy execution successful.
2025-05-26 19:17:52.361 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetAllAppointments (ServiceAppointment)'
2025-05-26 19:17:52.364 +00:00 [INF] Route matched with {action = "GetAllAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetAllAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 19:17:52.377 +00:00 [INF] ✅ Returning appointments from Redis cache
2025-05-26 19:17:52.379 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 19:17:52.381 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetAllAppointments (ServiceAppointment) in 9.8528ms
2025-05-26 19:17:52.385 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetAllAppointments (ServiceAppointment)'
2025-05-26 19:17:52.388 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments - 200 null application/json; charset=utf-8 43.2308ms
2025-05-26 19:19:09.445 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 19:19:09.462 +00:00 [INF] CORS policy execution successful.
2025-05-26 19:19:09.477 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 32.2962ms
2025-05-26 19:19:09.510 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments - null null
2025-05-26 19:19:09.532 +00:00 [INF] CORS policy execution successful.
2025-05-26 19:19:09.541 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetAllAppointments (ServiceAppointment)'
2025-05-26 19:19:09.544 +00:00 [INF] Route matched with {action = "GetAllAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetAllAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 19:19:09.555 +00:00 [INF] ✅ Returning appointments from Redis cache
2025-05-26 19:19:09.560 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 19:19:09.582 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetAllAppointments (ServiceAppointment) in 28.8879ms
2025-05-26 19:19:09.607 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetAllAppointments (ServiceAppointment)'
2025-05-26 19:19:09.611 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments - 200 null application/json; charset=utf-8 100.9257ms
2025-05-26 19:26:36.374 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 19:26:36.382 +00:00 [INF] CORS policy execution successful.
2025-05-26 19:26:36.388 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 13.6011ms
2025-05-26 19:26:36.405 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments - null null
2025-05-26 19:26:36.416 +00:00 [INF] CORS policy execution successful.
2025-05-26 19:26:36.437 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetAllAppointments (ServiceAppointment)'
2025-05-26 19:26:36.441 +00:00 [INF] Route matched with {action = "GetAllAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetAllAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 19:26:36.447 +00:00 [INF] ⛔ Cache miss — querying DB
2025-05-26 19:26:36.480 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
2025-05-26 19:26:36.484 +00:00 [INF] ✅ Appointments saved to Redis cache
2025-05-26 19:26:36.486 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 19:26:36.489 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetAllAppointments (ServiceAppointment) in 44.7513ms
2025-05-26 19:26:36.490 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetAllAppointments (ServiceAppointment)'
2025-05-26 19:26:36.491 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments - 200 null application/json; charset=utf-8 86.6911ms
2025-05-26 19:28:49.660 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 19:28:49.664 +00:00 [INF] CORS policy execution successful.
2025-05-26 19:28:49.671 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 10.75ms
2025-05-26 19:28:49.686 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments - null null
2025-05-26 19:28:49.688 +00:00 [INF] CORS policy execution successful.
2025-05-26 19:28:49.697 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetAllAppointments (ServiceAppointment)'
2025-05-26 19:28:49.700 +00:00 [INF] Route matched with {action = "GetAllAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetAllAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 19:28:49.705 +00:00 [INF] ✅ Returning appointments from Redis cache
2025-05-26 19:28:49.707 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 19:28:49.709 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetAllAppointments (ServiceAppointment) in 6.7096ms
2025-05-26 19:28:49.714 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetAllAppointments (ServiceAppointment)'
2025-05-26 19:28:49.716 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments - 200 null application/json; charset=utf-8 30.3092ms
2025-05-26 19:34:59.209 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 19:34:59.218 +00:00 [INF] CORS policy execution successful.
2025-05-26 19:34:59.221 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 11.2838ms
2025-05-26 19:34:59.236 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments - null null
2025-05-26 19:34:59.242 +00:00 [INF] CORS policy execution successful.
2025-05-26 19:34:59.246 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetAllAppointments (ServiceAppointment)'
2025-05-26 19:34:59.254 +00:00 [INF] Route matched with {action = "GetAllAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetAllAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 19:34:59.268 +00:00 [INF] ⛔ Cache miss — querying DB
2025-05-26 19:34:59.301 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
2025-05-26 19:34:59.306 +00:00 [INF] ✅ Appointments saved to Redis cache
2025-05-26 19:34:59.308 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 19:34:59.310 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetAllAppointments (ServiceAppointment) in 44.5733ms
2025-05-26 19:34:59.318 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetAllAppointments (ServiceAppointment)'
2025-05-26 19:34:59.324 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments - 200 null application/json; charset=utf-8 87.5966ms
2025-05-26 19:38:27.610 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 19:38:27.613 +00:00 [INF] CORS policy execution successful.
2025-05-26 19:38:27.618 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 8.3218ms
2025-05-26 19:38:27.624 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments - null null
2025-05-26 19:38:27.626 +00:00 [INF] CORS policy execution successful.
2025-05-26 19:38:27.631 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetAllAppointments (ServiceAppointment)'
2025-05-26 19:38:27.633 +00:00 [INF] Route matched with {action = "GetAllAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetAllAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 19:38:27.639 +00:00 [INF] ✅ Returning appointments from Redis cache
2025-05-26 19:38:27.640 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 19:38:27.642 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetAllAppointments (ServiceAppointment) in 6.3533ms
2025-05-26 19:38:27.644 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetAllAppointments (ServiceAppointment)'
2025-05-26 19:38:27.646 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments - 200 null application/json; charset=utf-8 22.4925ms
2025-05-26 19:38:43.743 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/3 - null null
2025-05-26 19:38:43.745 +00:00 [INF] CORS policy execution successful.
2025-05-26 19:38:43.749 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/3 - 204 null null 6.686ms
2025-05-26 19:38:43.755 +00:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5001/api/appointments/3 - null null
2025-05-26 19:38:43.757 +00:00 [INF] CORS policy execution successful.
2025-05-26 19:38:43.760 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.DeleteAppointment (ServiceAppointment)'
2025-05-26 19:38:43.764 +00:00 [INF] Route matched with {action = "DeleteAppointment", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteAppointment(Int32) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 19:38:43.782 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-05-26 19:38:43.790 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Appointments" SET "Status" = @p0
WHERE "Id" = @p1;
2025-05-26 19:38:43.794 +00:00 [INF] 🧹 Cache invalidated after cancel
2025-05-26 19:38:43.795 +00:00 [INF] 📤 Trying to connect to RabbitMQ...
2025-05-26 19:38:43.811 +00:00 [INF] ✅ Connected to RabbitMQ
2025-05-26 19:38:43.813 +00:00 [INF] 📤 Declaring queue 'notifications'...
2025-05-26 19:38:43.818 +00:00 [INF] 📤 Attempting to send notification to RabbitMQ...
2025-05-26 19:38:43.819 +00:00 [INF] ✅ Notification sent to RabbitMQ.
2025-05-26 19:38:43.824 +00:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-05-26 19:38:43.826 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.DeleteAppointment (ServiceAppointment) in 60.2213ms
2025-05-26 19:38:43.826 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.DeleteAppointment (ServiceAppointment)'
2025-05-26 19:38:43.828 +00:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5001/api/appointments/3 - 204 null null 73.0402ms
2025-05-26 19:40:58.884 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 19:40:58.887 +00:00 [INF] CORS policy execution successful.
2025-05-26 19:40:58.897 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 12.7705ms
2025-05-26 19:40:58.905 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 19:40:58.908 +00:00 [INF] CORS policy execution successful.
2025-05-26 19:40:58.911 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 19:40:58.925 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 19:40:58.986 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 19:40:58.991 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 19:40:58.992 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 65.6047ms
2025-05-26 19:40:58.994 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 19:40:58.996 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 91.3946ms
2025-05-26 19:41:13.130 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - null null
2025-05-26 19:41:13.132 +00:00 [INF] CORS policy execution successful.
2025-05-26 19:41:13.136 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - 204 null null 5.5541ms
2025-05-26 19:41:13.141 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - null null
2025-05-26 19:41:13.143 +00:00 [INF] CORS policy execution successful.
2025-05-26 19:41:13.146 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 19:41:13.155 +00:00 [INF] Route matched with {action = "GetByBranch", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetByBranch(System.String) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 19:41:13.201 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__branchId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."BranchId" = @__branchId_0 AND a."Status" = 'Scheduled'
2025-05-26 19:41:13.205 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 19:41:13.207 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment) in 49.9811ms
2025-05-26 19:41:13.209 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 19:41:13.210 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/fd550172-7fda-47ce-9aec-c3b933d1d96b - 200 null application/json; charset=utf-8 69.0652ms
2025-05-26 19:43:23.405 +00:00 [INF] Application is shutting down...
2025-05-26 19:44:05.454 +00:00 [INF] Executed DbCommand (100ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 19:44:06.995 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-05-26 19:44:07.056 +00:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-26 19:44:07.061 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-05-26 19:44:07.067 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 19:44:07.107 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-05-26 19:44:07.174 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
2025-05-26 19:44:07.176 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-26 19:44:07.369 +00:00 [INF] Now listening on: http://[::]:8080
2025-05-26 19:44:07.391 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-26 19:44:07.395 +00:00 [INF] Hosting environment: Development
2025-05-26 19:44:07.399 +00:00 [INF] Content root path: /app
2025-05-26 19:47:04.902 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 19:47:05.017 +00:00 [WRN] Failed to determine the https port for redirect.
2025-05-26 19:47:05.023 +00:00 [INF] CORS policy execution successful.
2025-05-26 19:47:05.045 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 157.0175ms
2025-05-26 19:47:05.063 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 19:47:05.092 +00:00 [INF] CORS policy execution successful.
2025-05-26 19:47:05.315 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 19:47:05.401 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 19:47:06.287 +00:00 [INF] Executed DbCommand (40ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 19:47:06.459 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 19:47:06.657 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 1246.9536ms
2025-05-26 19:47:06.662 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 19:47:06.686 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 1626.1617ms
2025-05-26 19:49:14.975 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 19:49:14.983 +00:00 [INF] CORS policy execution successful.
2025-05-26 19:49:14.989 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 14.5819ms
2025-05-26 19:49:14.999 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 19:49:15.006 +00:00 [INF] CORS policy execution successful.
2025-05-26 19:49:15.021 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 19:49:15.023 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 19:49:15.427 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 19:49:15.434 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 19:49:15.450 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 425.0256ms
2025-05-26 19:49:15.453 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 19:49:15.456 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 456.9404ms
2025-05-26 19:49:37.699 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 19:49:37.704 +00:00 [INF] CORS policy execution successful.
2025-05-26 19:49:37.713 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 14.4367ms
2025-05-26 19:49:37.724 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments - null null
2025-05-26 19:49:37.730 +00:00 [INF] CORS policy execution successful.
2025-05-26 19:49:37.752 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetAllAppointments (ServiceAppointment)'
2025-05-26 19:49:37.776 +00:00 [INF] Route matched with {action = "GetAllAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetAllAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 19:49:37.832 +00:00 [INF] ⛔ Cache miss — querying DB
2025-05-26 19:49:37.862 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
2025-05-26 19:49:37.901 +00:00 [INF] ✅ Appointments saved to Redis cache
2025-05-26 19:49:37.904 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 19:49:37.906 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetAllAppointments (ServiceAppointment) in 127.9008ms
2025-05-26 19:49:37.908 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetAllAppointments (ServiceAppointment)'
2025-05-26 19:49:37.913 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments - 200 null application/json; charset=utf-8 188.4628ms
2025-05-26 19:50:48.018 +00:00 [INF] Application is shutting down...
2025-05-26 19:51:43.215 +00:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 19:51:44.622 +00:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-05-26 19:51:44.694 +00:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-26 19:51:44.703 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-05-26 19:51:44.708 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 19:51:44.735 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-05-26 19:51:44.862 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
2025-05-26 19:51:44.865 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-26 19:51:45.258 +00:00 [INF] Now listening on: http://[::]:8080
2025-05-26 19:51:45.275 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-26 19:51:45.287 +00:00 [INF] Hosting environment: Development
2025-05-26 19:51:45.293 +00:00 [INF] Content root path: /app
2025-05-26 19:53:03.979 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 19:53:04.137 +00:00 [WRN] Failed to determine the https port for redirect.
2025-05-26 19:53:04.142 +00:00 [INF] CORS policy execution successful.
2025-05-26 19:53:04.169 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 194.5013ms
2025-05-26 19:53:04.188 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments - null null
2025-05-26 19:53:04.227 +00:00 [INF] CORS policy execution successful.
2025-05-26 19:53:04.695 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetAllAppointments (ServiceAppointment)'
2025-05-26 19:53:04.917 +00:00 [INF] Route matched with {action = "GetAllAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetAllAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 19:53:05.713 +00:00 [INF] ✅ Returning appointments from Redis cache
2025-05-26 19:53:05.791 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 19:53:05.958 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetAllAppointments (ServiceAppointment) in 1003.9911ms
2025-05-26 19:53:05.966 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetAllAppointments (ServiceAppointment)'
2025-05-26 19:53:05.996 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments - 200 null application/json; charset=utf-8 1808.0099ms
2025-05-26 19:54:18.034 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 19:54:18.039 +00:00 [INF] CORS policy execution successful.
2025-05-26 19:54:18.045 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 11.3579ms
2025-05-26 19:54:18.054 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 19:54:18.062 +00:00 [INF] CORS policy execution successful.
2025-05-26 19:54:18.094 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 19:54:18.134 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 19:54:18.944 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 19:54:19.067 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 19:54:19.069 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 909.0934ms
2025-05-26 19:54:19.071 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 19:54:19.081 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 1026.8442ms
2025-05-26 19:54:45.724 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 19:54:45.729 +00:00 [INF] CORS policy execution successful.
2025-05-26 19:54:45.732 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 8.2785ms
2025-05-26 19:54:45.746 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments - null null
2025-05-26 19:54:45.749 +00:00 [INF] CORS policy execution successful.
2025-05-26 19:54:45.762 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetAllAppointments (ServiceAppointment)'
2025-05-26 19:54:45.764 +00:00 [INF] Route matched with {action = "GetAllAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetAllAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 19:54:45.783 +00:00 [INF] ⛔ Cache miss — querying DB
2025-05-26 19:54:45.981 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
2025-05-26 19:54:46.004 +00:00 [INF] ✅ Appointments saved to Redis cache
2025-05-26 19:54:46.006 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 19:54:46.008 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetAllAppointments (ServiceAppointment) in 241.1227ms
2025-05-26 19:54:46.010 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetAllAppointments (ServiceAppointment)'
2025-05-26 19:54:46.014 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments - 200 null application/json; charset=utf-8 268.0418ms
2025-05-26 20:02:37.634 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 20:02:37.643 +00:00 [INF] CORS policy execution successful.
2025-05-26 20:02:37.650 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 15.8231ms
2025-05-26 20:02:37.684 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments - null null
2025-05-26 20:02:37.686 +00:00 [INF] CORS policy execution successful.
2025-05-26 20:02:37.708 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetAllAppointments (ServiceAppointment)'
2025-05-26 20:02:37.723 +00:00 [INF] Route matched with {action = "GetAllAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetAllAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 20:02:37.737 +00:00 [INF] ⛔ Cache miss — querying DB
2025-05-26 20:02:37.855 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
2025-05-26 20:02:37.871 +00:00 [INF] ✅ Appointments saved to Redis cache
2025-05-26 20:02:37.876 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 20:02:37.886 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetAllAppointments (ServiceAppointment) in 152.1652ms
2025-05-26 20:02:37.894 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetAllAppointments (ServiceAppointment)'
2025-05-26 20:02:37.899 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments - 200 null application/json; charset=utf-8 214.5355ms
2025-05-26 20:02:43.982 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/16 - null null
2025-05-26 20:02:43.987 +00:00 [INF] CORS policy execution successful.
2025-05-26 20:02:43.997 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/16 - 204 null null 14.6149ms
2025-05-26 20:02:44.018 +00:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5001/api/appointments/16 - null null
2025-05-26 20:02:44.023 +00:00 [INF] CORS policy execution successful.
2025-05-26 20:02:44.028 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.DeleteAppointment (ServiceAppointment)'
2025-05-26 20:02:44.101 +00:00 [INF] Route matched with {action = "DeleteAppointment", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteAppointment(Int32) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 20:02:44.361 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-05-26 20:02:44.813 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Appointments" SET "Status" = @p0
WHERE "Id" = @p1;
2025-05-26 20:02:44.880 +00:00 [INF] 🧹 Cache invalidated after cancel
2025-05-26 20:02:44.905 +00:00 [INF] 📤 Trying to connect to RabbitMQ...
2025-05-26 20:02:45.186 +00:00 [INF] ✅ Connected to RabbitMQ
2025-05-26 20:02:45.191 +00:00 [INF] 📤 Declaring queue 'notifications'...
2025-05-26 20:02:45.272 +00:00 [INF] 📤 Attempting to send notification to RabbitMQ...
2025-05-26 20:02:45.311 +00:00 [INF] ✅ Notification sent to RabbitMQ.
2025-05-26 20:02:45.387 +00:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-05-26 20:02:45.405 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.DeleteAppointment (ServiceAppointment) in 1299.9132ms
2025-05-26 20:02:45.425 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.DeleteAppointment (ServiceAppointment)'
2025-05-26 20:02:45.430 +00:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5001/api/appointments/16 - 204 null null 1412.8409ms
2025-05-26 20:02:51.637 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/11 - null null
2025-05-26 20:02:51.644 +00:00 [INF] CORS policy execution successful.
2025-05-26 20:02:51.648 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/11 - 204 null null 11.4014ms
2025-05-26 20:02:51.665 +00:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5001/api/appointments/11 - null null
2025-05-26 20:02:51.670 +00:00 [INF] CORS policy execution successful.
2025-05-26 20:02:51.674 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.DeleteAppointment (ServiceAppointment)'
2025-05-26 20:02:51.679 +00:00 [INF] Route matched with {action = "DeleteAppointment", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteAppointment(Int32) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 20:02:51.709 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-05-26 20:02:51.964 +00:00 [INF] Executed DbCommand (251ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Appointments" SET "Status" = @p0
WHERE "Id" = @p1;
2025-05-26 20:02:51.969 +00:00 [INF] 🧹 Cache invalidated after cancel
2025-05-26 20:02:51.972 +00:00 [INF] 📤 Trying to connect to RabbitMQ...
2025-05-26 20:02:51.989 +00:00 [INF] ✅ Connected to RabbitMQ
2025-05-26 20:02:51.991 +00:00 [INF] 📤 Declaring queue 'notifications'...
2025-05-26 20:02:51.995 +00:00 [INF] 📤 Attempting to send notification to RabbitMQ...
2025-05-26 20:02:51.996 +00:00 [INF] ✅ Notification sent to RabbitMQ.
2025-05-26 20:02:52.004 +00:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-05-26 20:02:52.006 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.DeleteAppointment (ServiceAppointment) in 318.7318ms
2025-05-26 20:02:52.008 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.DeleteAppointment (ServiceAppointment)'
2025-05-26 20:02:52.011 +00:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5001/api/appointments/11 - 204 null null 345.8235ms
2025-05-26 20:03:30.811 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 20:03:30.815 +00:00 [INF] CORS policy execution successful.
2025-05-26 20:03:30.824 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 12.8506ms
2025-05-26 20:03:30.844 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 20:03:30.857 +00:00 [INF] CORS policy execution successful.
2025-05-26 20:03:30.862 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 20:03:30.866 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 20:03:30.880 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 20:03:30.882 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 20:03:30.885 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 11.8223ms
2025-05-26 20:03:30.889 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 20:03:30.895 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 51.4227ms
2025-05-26 20:03:47.738 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - null null
2025-05-26 20:03:47.752 +00:00 [INF] CORS policy execution successful.
2025-05-26 20:03:47.762 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments - 204 null null 23.4308ms
2025-05-26 20:03:47.776 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5001/api/appointments - application/json 115
2025-05-26 20:03:47.782 +00:00 [INF] CORS policy execution successful.
2025-05-26 20:03:47.791 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment)'
2025-05-26 20:03:47.812 +00:00 [INF] Route matched with {action = "Create", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(ServiceAppointment.Models.Requests.AppointmentRequest) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 20:03:47.960 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__branchId_0='?', @__normalizedTime_Year_1='?' (DbType = Int32), @__normalizedTime_Month_2='?' (DbType = Int32), @__normalizedTime_Day_3='?' (DbType = Int32), @__normalizedTime_Hour_4='?' (DbType = Int32), @__normalizedTime_Minute_5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Appointments" AS a
    WHERE a."BranchId" = @__branchId_0 AND date_part('year', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Year_1 AND date_part('month', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Month_2 AND date_part('day', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Day_3 AND date_part('hour', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Hour_4 AND date_part('minute', a."ScheduledTime" AT TIME ZONE 'UTC')::int = @__normalizedTime_Minute_5)
2025-05-26 20:03:48.048 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?', @p1='?', @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Appointments" ("BranchId", "CustomerId", "ScheduledTime", "Status")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2025-05-26 20:03:48.088 +00:00 [INF] 🧹 Cache invalidated after create
2025-05-26 20:03:48.089 +00:00 [INF] 📤 Trying to connect to RabbitMQ...
2025-05-26 20:03:48.108 +00:00 [INF] ✅ Connected to RabbitMQ
2025-05-26 20:03:48.110 +00:00 [INF] 📤 Declaring queue 'notifications'...
2025-05-26 20:03:48.119 +00:00 [INF] 📤 Attempting to send notification to RabbitMQ...
2025-05-26 20:03:48.120 +00:00 [INF] ✅ Notification sent to RabbitMQ.
2025-05-26 20:03:48.129 +00:00 [INF] Executing CreatedAtActionResult, writing value of type 'ServiceAppointment.Models.Appointment'.
2025-05-26 20:03:48.178 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment) in 363.8638ms
2025-05-26 20:03:48.180 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.Create (ServiceAppointment)'
2025-05-26 20:03:48.185 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5001/api/appointments - 201 null application/json; charset=utf-8 408.3888ms
2025-05-26 20:03:48.199 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 20:03:48.210 +00:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/1ea0fac3-1acc-41d6-a140-3aaaa439659c - null null
2025-05-26 20:03:48.218 +00:00 [INF] CORS policy execution successful.
2025-05-26 20:03:48.229 +00:00 [INF] CORS policy execution successful.
2025-05-26 20:03:48.234 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/my-appointments - 204 null null 35.1921ms
2025-05-26 20:03:48.248 +00:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5001/api/appointments/by-branch/1ea0fac3-1acc-41d6-a140-3aaaa439659c - 204 null null 38.2198ms
2025-05-26 20:03:48.256 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - null null
2025-05-26 20:03:48.261 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/1ea0fac3-1acc-41d6-a140-3aaaa439659c - null null
2025-05-26 20:03:48.265 +00:00 [INF] CORS policy execution successful.
2025-05-26 20:03:48.268 +00:00 [INF] CORS policy execution successful.
2025-05-26 20:03:48.273 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 20:03:48.280 +00:00 [INF] Executing endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 20:03:48.283 +00:00 [INF] Route matched with {action = "GetMyAppointments", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetMyAppointments() on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 20:03:48.297 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__customerId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."CustomerId" = @__customerId_0 AND a."Status" = 'Scheduled'
2025-05-26 20:03:48.303 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 20:03:48.306 +00:00 [INF] Route matched with {action = "GetByBranch", controller = "Appointments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ServiceAppointment.Models.Appointment]]] GetByBranch(System.String) on controller ServiceAppointment.Controllers.AppointmentsController (ServiceAppointment).
2025-05-26 20:03:48.309 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment) in 16.8811ms
2025-05-26 20:03:48.318 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetMyAppointments (ServiceAppointment)'
2025-05-26 20:03:48.323 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/my-appointments - 200 null application/json; charset=utf-8 66.5128ms
2025-05-26 20:03:48.363 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__branchId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BranchId", a."CustomerId", a."ScheduledTime", a."Status"
FROM "Appointments" AS a
WHERE a."BranchId" = @__branchId_0 AND a."Status" = 'Scheduled'
2025-05-26 20:03:48.372 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ServiceAppointment.Models.Appointment, ServiceAppointment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 20:03:48.379 +00:00 [INF] Executed action ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment) in 66.4965ms
2025-05-26 20:03:48.391 +00:00 [INF] Executed endpoint 'ServiceAppointment.Controllers.AppointmentsController.GetByBranch (ServiceAppointment)'
2025-05-26 20:03:48.410 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/api/appointments/by-branch/1ea0fac3-1acc-41d6-a140-3aaaa439659c - 200 null application/json; charset=utf-8 148.2893ms
2025-05-26 21:09:57.639 +00:00 [INF] Application is shutting down...
2025-05-26 21:12:32.397 +00:00 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 21:12:33.287 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-05-26 21:12:33.314 +00:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-26 21:12:33.319 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-05-26 21:12:33.322 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-26 21:12:33.335 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-05-26 21:12:33.409 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
2025-05-26 21:12:33.411 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-26 21:12:33.634 +00:00 [INF] Now listening on: http://[::]:8080
2025-05-26 21:12:33.650 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-26 21:12:33.652 +00:00 [INF] Hosting environment: Development
2025-05-26 21:12:33.654 +00:00 [INF] Content root path: /app
